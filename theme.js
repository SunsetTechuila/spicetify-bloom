!async function(){for(;!Spicetify.React||!Spicetify.ReactDOM;)await new Promise(e=>setTimeout(e,10));var theme=(()=>{var __create=Object.create,__defProp=Object.defineProperty,__getOwnPropDesc=Object.getOwnPropertyDescriptor,__getOwnPropNames=Object.getOwnPropertyNames,__getProtoOf=Object.getPrototypeOf,__hasOwnProp=Object.prototype.hasOwnProperty,__defNormalProp=(e,t,r)=>t in e?__defProp(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,__commonJS=(e,t)=>function(){return t||(0,e[__getOwnPropNames(e)[0]])((t={exports:{}}).exports,t),t.exports},__copyProps=(t,r,i,n)=>{if(r&&"object"==typeof r||"function"==typeof r)for(let e of __getOwnPropNames(r))__hasOwnProp.call(t,e)||e===i||__defProp(t,e,{get:()=>r[e],enumerable:!(n=__getOwnPropDesc(r,e))||n.enumerable});return t},__toESM=(e,t,r)=>(r=null!=e?__create(__getProtoOf(e)):{},__copyProps(!t&&e&&e.__esModule?r:__defProp(r,"default",{value:e,enumerable:!0}),e)),__publicField=(e,t,r)=>(__defNormalProp(e,"symbol"!=typeof t?t+"":t,r),r),require_react=__commonJS({"external-global-plugin:react"(e,t){t.exports=Spicetify.React}}),require_react_dom=__commonJS({"external-global-plugin:react-dom"(e,t){t.exports=Spicetify.ReactDOM}});function waitForAPIs(apis,func,attempts=50){try{apis.forEach(api=>{if(!eval(api))throw new Error})}catch{return void(0<attempts&&setTimeout(waitForAPIs,200,apis,func,attempts-1))}func()}var waitForAPIs_default=waitForAPIs;function injectStyle(e){var t=document.createElement("style");t.innerHTML=e,document.head.appendChild(t)}var injectStyle_default=injectStyle;function cleanLocalizationString(e){return e.replace(/[{0}{1}«»”“]/g,"").trim()}var cleanLocalizationString_default=cleanLocalizationString,githubPagesURL="https://sunsettechuila.github.io/spicetify-bloom",assetsURL=githubPagesURL+"/assets",fluentIconsURL=assetsURL+"/fluentui-system-icons",requirementsSettingId="check-requirements",bloomLyricsStyleSettingId="enable-bloom-lyrics-style",windowControlsBackgroundSettingId="hide-window-controls-background",fluentStyleSettingId="enable-fluent-style";function isObjectEmpty(e){for(const t in e)if(Object.hasOwn(e,t))return!1;return!0}var isObjectEmpty_default=isObjectEmpty;function addButtonStyles(){waitForAPIs_default(["Spicetify.Locale"],async()=>{var e=Spicetify["Locale"];let t=e.getDictionary();for(;isObjectEmpty_default(t);)await new Promise(e=>setTimeout(e,100)),t=e.getDictionary();var r=cleanLocalizationString_default(t["playlist.a11y.play"]),i=cleanLocalizationString_default(t["playlist.a11y.pause"]),n=t["tracklist.a11y.play"],a=t["playback-control.pause"],s=t["playback-control.play"],o=t.play,l=t.pause;let c,u;["zh-CN","zh-TW","am","fi"].includes(e.getLocale())?[c,u]=n.split("{1}"):[c,u]=n.split("{0}"),c=cleanLocalizationString_default(c),u=cleanLocalizationString_default(u),injectStyle_default(`
    .main-playButton-button[aria-label*="${o}"],
    .main-playPauseButton-button[aria-label="${o}"],
    .main-playPauseButton-button[aria-label="${s}"],
    .main-trackList-rowPlayPauseButton[aria-label*="${o}"],
    .main-trackList-rowImagePlayButton[aria-label*="${c}"],
    .main-trackList-rowImagePlayButton[aria-label*="${u}"],
    .main-playButton-PlayButton>button[aria-label*="${r}"],
    .main-playButton-PlayButton>button[aria-label*="${o}"] {
      background-color: var(--spice-text) !important;
      -webkit-mask-image: url('${fluentIconsURL}/ic_fluent_play_24_filled.svg') !important;
    }
    .main-playButton-button[aria-label*="${l}"],
    .main-playPauseButton-button[aria-label*="${l}"],
    .main-playPauseButton-button[aria-label="${a}"],
    .main-trackList-rowPlayPauseButton[aria-label*="${l}"],
    .main-trackList-rowImagePlayButton[aria-label*="${l}"],
    .main-playButton-PlayButton>button[aria-label*="${i}"],
    .main-playButton-PlayButton>button[aria-label*="${l}"] {
      background-color: var(--spice-text) !important;
      -webkit-mask-image: url('${fluentIconsURL}/ic_fluent_pause_16_filled.svg') !important;
    }

    .main-yourLibraryX-button[aria-label*="${t["web-player.your-library-x.enlarge-your-library"]}"] span {
      background-color: var(--spice-text) !important;
      -webkit-mask-image: url('${fluentIconsURL}/ic_fluent_arrow_right_24_filled.svg') !important;
      width: 18px;
      height: 18px;
    }
    .main-yourLibraryX-button[aria-label*="${t["web-player.your-library-x.reduce-your-library"]}"] span {
      background-color: var(--spice-text) !important;
      -webkit-mask-image: url('${fluentIconsURL}/ic_fluent_arrow_left_24_filled.svg') !important;
      width: 18px;
      height: 18px;
    }
    .main-yourLibraryX-button[aria-label*="${t["web-player.your-library-x.grid-view"]}"] span {
      background-color: var(--spice-text) !important;
      -webkit-mask-image: url('${fluentIconsURL}/ic_fluent_table_simple_24_regular.svg') !important;
      width: 18px;
      height: 18px;
    }
    .main-yourLibraryX-button[aria-label*="${t["web-player.your-library-x.list-view"]}"] span {
      background-color: var(--spice-text) !important;
      -webkit-mask-image: url('${fluentIconsURL}/ic_fluent_text_bullet_list_ltr_24_filled.svg') !important;
      width: 18px;
      height: 18px;
    }
    .main-yourLibraryX-button[aria-label*="${t["web-player.your-library-x.create.button-label"]}"] span {
      background-color: var(--spice-text) !important;
      -webkit-mask-image: url('${fluentIconsURL}/ic_fluent_add_24_filled.svg') !important;
      width: 18px;
      height: 18px;
    }
  `)})}var addButtonStyles_default=addButtonStyles;function waitForElements(e,t,r=50){var i=e.map(e=>document.querySelector(e));i.every(e=>e)?t(i):0<r&&setTimeout(waitForElements,200,e,t,r-1)}var waitForElements_default=waitForElements,noiseOpacityCSSVariable="--noise-opacity",lightNoiseOpacityValue="3.5%",marketplaceSchemeSelector=".marketplaceScheme",topBarContentWrapperSelector=".main-topBar-topbarContentWrapper",navItemSelector=".main-yourLibraryX-navItem",navLinkSelector=".main-yourLibraryX-navLink",navLinkAccentClass="main-yourLibraryX-navLink-accent",playingBarBlurClass="main-nowPlayingBar-container-blur",themeSettingsSectionId="bloom-settings",themeSettingsSectionName="Bloom theme settings",requirementsSettingTitle="Check theme requirements",requirementsSettingDefaultValue=!0,bloomLyricsStyleSettingTitle="Enable Bloom lyrics style (not compatible with the Beautiful Lyrics extension)",bloomLyricsStyleSettingDefaultValue=!1,windowControlsBackgroundSettingTitle="Try to hide window controls black background",windowControlsBackgroundSettingDefaultValue=!1,fluentStyleSettingTitle="Enable Fluent Style for fluent color scheme",fluentStyleSettingDefaultValue=!0,easterEggButtonId="easter-egg",easterEggButtonDescription="Press this button",easterEggButtonValue="Yes, do it!",easterEggVideoURL="https://raw.githubusercontent.com/SunsetTechuila/spicetify-bloom/main/src/assets/easter-egg.webm";function addBlurElements(){waitForElements_default([".main-nowPlayingBar-container"],([e])=>{var t=document.createElement("div");t.classList.add(playingBarBlurClass),e.insertAdjacentElement("beforebegin",t)})}var addBlurElements_default=addBlurElements;function addLibraryNavLinkAccent(){waitForElements_default([navItemSelector],()=>{Array.from(document.querySelectorAll(navLinkSelector)).forEach(e=>{var t=document.createElement("div");t.classList.add(navLinkAccentClass),e.appendChild(t)})})}var addLibraryNavLinkAccent_default=addLibraryNavLinkAccent;function centerTopBarContent(){waitForElements_default([topBarContentWrapperSelector],([e])=>{var t,r,i;e instanceof HTMLElement&&(t=e.offsetLeft,r=window.innerWidth-(t+e.offsetWidth),i=window.innerWidth/2,t<=0||r<=0||i<t||i<r||(i=e["style"],0!==(e=r-t+(parseInt(i.marginLeft,10)||0))&&(i.marginLeft=e+"px")))})}function keepTopBarContentCentered(){"complete"!==document.readyState&&setTimeout(keepTopBarContentCentered,100),centerTopBarContent(),window.onresize=centerTopBarContent}var keepTopBarContentCentered_default=keepTopBarContentCentered;function setNoiseOpacity(){Spicetify.Config.color_scheme.includes("light")&&document.documentElement.style.setProperty(noiseOpacityCSSVariable,lightNoiseOpacityValue)}function controlNoiseOpacity(){setNoiseOpacity(),waitForElements_default([marketplaceSchemeSelector],([e])=>{new MutationObserver(setNoiseOpacity).observe(e,{attributes:!0})})}var controlNoiseOpacity_default=controlNoiseOpacity,import_react=__toESM(require_react()),import_react_dom=__toESM(require_react_dom()),SettingsSection=class{constructor(e,t,r={}){this.name=e,this.settingsId=t,this.initialSettingsFields=r,this.settingsFields=this.initialSettingsFields,this.setRerender=null,this.pushSettings=async()=>{for(Object.entries(this.settingsFields).forEach(([e,t])=>{"button"!==t.type&&void 0===this.getFieldValue(e)&&this.setFieldValue(e,t.defaultValue)});!Spicetify?.Platform?.History?.listen;)await new Promise(e=>setTimeout(e,100));this.stopHistoryListener&&this.stopHistoryListener(),this.stopHistoryListener=Spicetify.Platform.History.listen(e=>{"/preferences"===e.pathname&&this.render()}),"/preferences"===Spicetify.Platform.History.location.pathname&&await this.render()},this.rerender=()=>{this.setRerender&&this.setRerender(Math.random())},this.render=async()=>{for(;!document.getElementById("desktop.settings.selectLanguage");){if("/preferences"!==Spicetify.Platform.History.location.pathname)return;await new Promise(e=>setTimeout(e,100))}var e=document.querySelector(".main-view-container__scroll-node-child main div");if(!e)return console.error("[spcr-settings] settings container not found");let t=Array.from(e.children).find(e=>e.id===this.settingsId);t?console.log(t):((t=document.createElement("div")).id=this.settingsId,e.appendChild(t)),import_react_dom.default.render(import_react.default.createElement(this.FieldsContainer,null),t)},this.addButton=(e,t,r,i,n)=>{this.settingsFields[e]={type:"button",description:t,value:r,events:{onClick:i,...n}}},this.addInput=(e,t,r,i,n,a)=>{this.settingsFields[e]={type:"input",description:t,defaultValue:r,inputType:n,events:{onChange:i,...a}}},this.addHidden=(e,t)=>{this.settingsFields[e]={type:"hidden",defaultValue:t}},this.addToggle=(e,t,r,i,n)=>{this.settingsFields[e]={type:"toggle",description:t,defaultValue:r,events:{onChange:i,...n}}},this.addDropDown=(e,t,r,i,n,a)=>{this.settingsFields[e]={type:"dropdown",description:t,defaultValue:r[i],options:r,events:{onSelect:n,...a}}},this.getFieldValue=e=>JSON.parse(Spicetify.LocalStorage.get(this.settingsId+"."+e)||"{}")?.value,this.setFieldValue=(e,t)=>{Spicetify.LocalStorage.set(this.settingsId+"."+e,JSON.stringify({value:t}))},this.FieldsContainer=()=>{var[e,t]=(0,import_react.useState)(0);return this.setRerender=t,import_react.default.createElement("div",{className:"x-settings-section",key:e},import_react.default.createElement("h2",{className:"TypeElement-cello-textBase-type"},this.name),Object.entries(this.settingsFields).map(([e,t])=>import_react.default.createElement(this.Field,{nameId:e,field:t})))},this.Field=r=>{var e=this.settingsId+"."+r.nameId;let t;if(t="button"===r.field.type?r.field.value:this.getFieldValue(r.nameId),"hidden"===r.field.type)return import_react.default.createElement(import_react.default.Fragment,null);const[i,n]=(0,import_react.useState)(t),a=e=>{void 0!==e&&(n(e),this.setFieldValue(r.nameId,e))};return import_react.default.createElement("div",{className:"x-settings-row"},import_react.default.createElement("div",{className:"x-settings-firstColumn"},import_react.default.createElement("label",{className:"TypeElement-viola-textSubdued-type",htmlFor:e},r.field.description||"")),import_react.default.createElement("div",{className:"x-settings-secondColumn"},"input"===r.field.type?import_react.default.createElement("input",{className:"x-settings-input",id:e,dir:"ltr",value:i,type:r.field.inputType||"text",...r.field.events,onChange:e=>{a(e.currentTarget.value);var t=r.field.events?.onChange;t&&t(e)}}):"button"===r.field.type?import_react.default.createElement("span",null,import_react.default.createElement("button",{id:e,className:"Button-sm-buttonSecondary-isUsingKeyboard-useBrowserDefaultFocusStyle x-settings-button",...r.field.events,onClick:e=>{a();var t=r.field.events?.onClick;t&&t(e)},type:"button"},i)):"toggle"===r.field.type?import_react.default.createElement("label",{className:"x-settings-secondColumn x-toggle-wrapper"},import_react.default.createElement("input",{id:e,className:"x-toggle-input",type:"checkbox",checked:i,...r.field.events,onClick:e=>{a(e.currentTarget.checked);var t=r.field.events?.onClick;t&&t(e)}}),import_react.default.createElement("span",{className:"x-toggle-indicatorWrapper"},import_react.default.createElement("span",{className:"x-toggle-indicator"}))):"dropdown"===r.field.type?import_react.default.createElement("select",{className:"main-dropDown-dropDown",id:e,...r.field.events,onChange:e=>{a(r.field.options[e.currentTarget.selectedIndex]);var t=r.field.events?.onChange;t&&t(e)}},r.field.options.map((e,t)=>import_react.default.createElement("option",{selected:e===i,value:t+1},e))):import_react.default.createElement(import_react.default.Fragment,null)))}}};function reloadLocalion(){window.location.reload()}var reloadLocation_default=reloadLocalion;async function getOsAsync(){for(;!Spicetify.Platform?.PlatformData;)await new Promise(e=>setTimeout(e,100));return Spicetify.Platform.PlatformData.os_name}var getOsAsync_default=getOsAsync;async function addSettingsAsync(){var e=new SettingsSection(themeSettingsSectionName,themeSettingsSectionId),t=(e.addToggle(requirementsSettingId,requirementsSettingTitle,requirementsSettingDefaultValue,reloadLocation_default),e.addToggle(bloomLyricsStyleSettingId,bloomLyricsStyleSettingTitle,bloomLyricsStyleSettingDefaultValue,reloadLocation_default),await getOsAsync_default());return"windows"===t&&e.addToggle(windowControlsBackgroundSettingId,windowControlsBackgroundSettingTitle,windowControlsBackgroundSettingDefaultValue,reloadLocation_default),e.addToggle(fluentStyleSettingId,fluentStyleSettingTitle,fluentStyleSettingDefaultValue,reloadLocation_default),e.addButton(easterEggButtonId,easterEggButtonDescription,easterEggButtonValue,()=>{const e=document.createElement("video");e.style.position="absolute",e.style.width="100%",e.style.height="100%",e.onloadedmetadata=()=>{e.play(),document.body.appendChild(e)},e.onended=()=>{e.remove()},e.src=easterEggVideoURL}),e.pushSettings(),e}var addSettingsAsync_default=addSettingsAsync,categoryCardSelector=".x-categoryCard-CategoryCard",categoryCardImageSelector=".x-categoryCard-image",categoryCardBackdropClass="x-categoryCard-backdrop";function addBackdropToCategoryCards(){waitForElements_default([categoryCardImageSelector],()=>{Array.from(document.querySelectorAll(categoryCardSelector)).forEach(e=>{var t,r=e.querySelector(categoryCardImageSelector);e instanceof HTMLElement&&r instanceof HTMLImageElement&&r.previousElementSibling?.className!==categoryCardBackdropClass&&((t=document.createElement("div")).classList.add(categoryCardBackdropClass),t.style.backgroundImage=`url(${r.src})`,t.style.backgroundColor=""+e.style.backgroundColor,r.insertAdjacentElement("beforebegin",t))})})}var addBackdropToCategoryCards_default=addBackdropToCategoryCards;function styleCategoryCards(){waitForAPIs_default(["Spicetify.Platform.History"],()=>{const e=Spicetify.Platform["History"];function t(){"/search"===e.location.pathname&&addBackdropToCategoryCards_default()}t(),e.listen(t)})}var styleCategoryCards_default=styleCategoryCards,minimalSpotifyVersion="1.2.14",minimalSpicetifyVersion="2.20.1",bloomWarningMessagePrefix="Bloom:",hardwareAccelerationWarningMessage=bloomWarningMessagePrefix+" hardware acceleration is disabled. Please enable it in the settings.",hardwareAccelerationPrefsKey="ui.hardware_acceleration",spicetifyVersionWarningMessage=bloomWarningMessagePrefix+" your Spicetify version is too low.",spotifyVersionWarningMessage=bloomWarningMessagePrefix+" your Spotify version is too low.",notificationDisplayTimeMS=2e3;async function checkHardwareAccelerationAsync(){var e;Spicetify.Platform?.PlayerAPI&&Spicetify.showNotification?(e=(await Spicetify.Platform.PlayerAPI._prefs.get({key:hardwareAccelerationPrefsKey})).entries,e[hardwareAccelerationPrefsKey].bool||Spicetify.showNotification(hardwareAccelerationWarningMessage)):setTimeout(checkHardwareAccelerationAsync,100)}var checkHardwareAccelerationAsync_default=checkHardwareAccelerationAsync;function convertVersionToNumber(e){return parseInt(e.replaceAll(".",""),10)}var convertVersionToNumber_default=convertVersionToNumber;function checkSpicetifyAndSpotifyVersions(){if(Spicetify.Platform?.PlatformData&&Spicetify.showNotification){var e=Spicetify.Config.version;const t=Spicetify.Platform.PlatformData.client_version_triple;convertVersionToNumber_default(e)<convertVersionToNumber_default(minimalSpicetifyVersion)&&Spicetify.showNotification(spicetifyVersionWarningMessage+` <br/> Minimal: ${minimalSpicetifyVersion}; current: `+e,!1,notificationDisplayTimeMS),convertVersionToNumber_default(t)<convertVersionToNumber_default(minimalSpotifyVersion)&&setTimeout(()=>{Spicetify.showNotification(spotifyVersionWarningMessage+` <br/> Minimal: ${minimalSpotifyVersion}; current: `+t,!1,notificationDisplayTimeMS)},notificationDisplayTimeMS)}else setTimeout(checkSpicetifyAndSpotifyVersions,100)}var checkSpicetifyAndSpotifyVersions_default=checkSpicetifyAndSpotifyVersions;function checkRequirements(){checkSpicetifyAndSpotifyVersions_default(),checkHardwareAccelerationAsync_default()}var checkRequirements_default=checkRequirements;function fixLyricsContentWrapperShifting(e){var t=e["style"],e=(t.maxWidth="",t.width="",e.getBoundingClientRect().width);t.maxWidth=e+"px",t.width=e+"px"}var fixLyricsContentWrapperShifting_default=fixLyricsContentWrapperShifting;function toHex(e){e=e.toString(16);return 1===e.length?"0"+e:e}function arrayToHex(e){return"#"+e.map(toHex).join("")}function isDark(e){return(299*e[0]+587*e[1]+114*e[2])/1e3<128}function prepareIgnoredColor(e){return e?isRGBArray(e)?e:[e]:[]}function isRGBArray(e){return Array.isArray(e[0])}function isIgnoredColor(e,t,r){for(var i=0;i<r.length;i++)if(isIgnoredColorAsNumbers(e,t,r[i]))return 1}function isIgnoredColorAsNumbers(e,t,r){switch(r.length){case 3:if(isIgnoredRGBColor(e,t,r))return 1;break;case 4:if(isIgnoredRGBAColor(e,t,r))return 1;break;case 5:if(isIgnoredRGBAColorWithThreshold(e,t,r))return 1;break;default:return}}function isIgnoredRGBColor(e,t,r){return 255!==e[t+3]||e[t]===r[0]&&e[t+1]===r[1]&&e[t+2]===r[2]}function isIgnoredRGBAColor(e,t,r){return(!e[t+3]||!r[3]||e[t]===r[0]&&e[t+1]===r[1]&&e[t+2]===r[2])&&e[t+3]===r[3]}function inRange(e,t,r){return t-r<=e&&e<=t+r}function isIgnoredRGBAColorWithThreshold(e,t,r){var i=r[0],n=r[1],a=r[2],s=r[3],r=r[4],o=e[t+3],l=inRange(o,s,r);return s?!o&&l||!!(inRange(e[t],i,r)&&inRange(e[t+1],n,r)&&inRange(e[t+2],a,r)&&l):l}var DEFAULT_DOMINANT_DIVIDER=24;function dominantAlgorithm(e,t,r){for(var i={},n=r.dominantDivider||DEFAULT_DOMINANT_DIVIDER,a=r.ignoredColor,s=r.step,o=[0,0,0,0,0],l=0;l<t;l+=s){var c,u=e[l],_=e[l+1],d=e[l+2],p=e[l+3];a&&isIgnoredColor(e,l,a)||(i[c=Math.round(u/n)+","+Math.round(_/n)+","+Math.round(d/n)]=i[c]?[i[c][0]+u*p,i[c][1]+_*p,i[c][2]+d*p,i[c][3]+p,i[c][4]+1]:[u*p,_*p,d*p,p,1],o[4]<i[c][4]&&(o=i[c]))}var f=o[0],h=o[1],m=o[2],g=o[3],y=o[4];return g?[Math.round(f/g),Math.round(h/g),Math.round(m/g),Math.round(g/y)]:r.defaultColor}function simpleAlgorithm(e,t,r){for(var i=0,n=0,a=0,s=0,o=0,l=r.ignoredColor,c=r.step,u=0;u<t;u+=c){var _=e[u+3],d=e[u]*_,p=e[u+1]*_,f=e[u+2]*_;l&&isIgnoredColor(e,u,l)||(i+=d,n+=p,a+=f,s+=_,o++)}return s?[Math.round(i/s),Math.round(n/s),Math.round(a/s),Math.round(s/o)]:r.defaultColor}function sqrtAlgorithm(e,t,r){for(var i=0,n=0,a=0,s=0,o=0,l=r.ignoredColor,c=r.step,u=0;u<t;u+=c){var _=e[u],d=e[u+1],p=e[u+2],f=e[u+3];l&&isIgnoredColor(e,u,l)||(i+=_*_*f,n+=d*d*f,a+=p*p*f,s+=f,o++)}return s?[Math.round(Math.sqrt(i/s)),Math.round(Math.sqrt(n/s)),Math.round(Math.sqrt(a/s)),Math.round(s/o)]:r.defaultColor}function getDefaultColor(e){return getOption(e,"defaultColor",[0,0,0,0])}function getOption(e,t,r){return void 0===e[t]?r:e[t]}var MIN_SIZE=10,MAX_SIZE=100;function isSvg(e){return-1!==e.search(/\.svg(\?|$)/i)}function getOriginalSize(e){var t,r;return isInstanceOfHTMLImageElement(e)?(t=e.naturalWidth,r=e.naturalHeight,{width:t=!e.naturalWidth&&isSvg(e.src)?r=MAX_SIZE:t,height:r}):isInstanceOfHTMLVideoElement(e)?{width:e.videoWidth,height:e.videoHeight}:{width:e.width,height:e.height}}function getSrc(e){return isInstanceOfHTMLCanvasElement(e)?"canvas":isInstanceOfOffscreenCanvas(e)?"offscreencanvas":isInstanceOfImageBitmap(e)?"imagebitmap":e.src}function isInstanceOfHTMLImageElement(e){return"undefined"!=typeof HTMLImageElement&&e instanceof HTMLImageElement}var hasOffscreenCanvas="undefined"!=typeof OffscreenCanvas;function isInstanceOfOffscreenCanvas(e){return hasOffscreenCanvas&&e instanceof OffscreenCanvas}function isInstanceOfHTMLVideoElement(e){return"undefined"!=typeof HTMLVideoElement&&e instanceof HTMLVideoElement}function isInstanceOfHTMLCanvasElement(e){return"undefined"!=typeof HTMLCanvasElement&&e instanceof HTMLCanvasElement}function isInstanceOfImageBitmap(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap}function prepareSizeAndPosition(e,t){var r,i=getOption(t,"left",0),n=getOption(t,"top",0),a=getOption(t,"width",e.width),e=getOption(t,"height",e.height),s=a,o=e;return"precision"!==t.mode&&(e<a?(r=a/e,s=MAX_SIZE,o=Math.round(s/r)):(r=e/a,o=MAX_SIZE,s=Math.round(o/r)),a<s||e<o||s<MIN_SIZE||o<MIN_SIZE)&&(s=a,o=e),{srcLeft:i,srcTop:n,srcWidth:a,srcHeight:e,destWidth:s,destHeight:o}}var isWebWorkers="undefined"==typeof window;function makeCanvas(){return isWebWorkers?hasOffscreenCanvas?new OffscreenCanvas(1,1):null:document.createElement("canvas")}var ERROR_PREFIX="FastAverageColor: ";function getError(e){return Error(ERROR_PREFIX+e)}function outputError(e,t){t||console.error(e)}var FastAverageColor=function(){function e(){this.canvas=null,this.ctx=null}return e.prototype.getColorAsync=function(e,t){var r;return e?"string"==typeof e?"undefined"==typeof Image?Promise.reject(getError("resource as string is not supported in this environment")):((r=new Image).crossOrigin=t&&t.crossOrigin||"",r.src=e,this.bindImageEvents(r,t)):isInstanceOfHTMLImageElement(e)&&!e.complete?this.bindImageEvents(e,t):(r=this.getColor(e,t)).error?Promise.reject(r.error):Promise.resolve(r):Promise.reject(getError("call .getColorAsync() without resource"))},e.prototype.getColor=function(t,r){var i=getDefaultColor(r=r||{});if(!t)return outputError(n=getError("call .getColor() without resource"),r.silent),this.prepareResult(i,n);var n,e=prepareSizeAndPosition(getOriginalSize(t),r);if(!(e.srcWidth&&e.srcHeight&&e.destWidth&&e.destHeight))return outputError(n=getError('incorrect sizes for resource "'.concat(getSrc(t),'"')),r.silent),this.prepareResult(i,n);if(!this.canvas&&(this.canvas=makeCanvas(),!this.canvas))return outputError(n=getError("OffscreenCanvas is not supported in this browser"),r.silent),this.prepareResult(i,n);if(!this.ctx){if(this.ctx=this.canvas.getContext("2d",{willReadFrequently:!0}),!this.ctx)return outputError(n=getError("Canvas Context 2D is not supported in this browser"),r.silent),this.prepareResult(i);this.ctx.imageSmoothingEnabled=!1}this.canvas.width=e.destWidth,this.canvas.height=e.destHeight;try{this.ctx.clearRect(0,0,e.destWidth,e.destHeight),this.ctx.drawImage(t,e.srcLeft,e.srcTop,e.srcWidth,e.srcHeight,0,0,e.destWidth,e.destHeight);var a=this.ctx.getImageData(0,0,e.destWidth,e.destHeight).data;return this.prepareResult(this.getColorFromArray4(a,r))}catch(e){return outputError(n=getError("security error (CORS) for resource ".concat(getSrc(t),".\nDetails: https://developer.mozilla.org/en/docs/Web/HTML/CORS_enabled_image")),r.silent),r.silent||console.error(e),this.prepareResult(i,n)}},e.prototype.getColorFromArray4=function(e,t){var r=e.length,i=getDefaultColor(t=t||{});if(r<4)return i;var n,r=r-r%4,a=4*(t.step||1);switch(t.algorithm||"sqrt"){case"simple":n=simpleAlgorithm;break;case"sqrt":n=sqrtAlgorithm;break;case"dominant":n=dominantAlgorithm;break;default:throw getError("".concat(t.algorithm," is unknown algorithm"))}return n(e,r,{defaultColor:i,ignoredColor:prepareIgnoredColor(t.ignoredColor),step:a,dominantDivider:t.dominantDivider})},e.prototype.prepareResult=function(e,t){var r=e.slice(0,3),i=[e[0],e[1],e[2],e[3]/255],n=isDark(e);return{value:[e[0],e[1],e[2],e[3]],rgb:"rgb("+r.join(",")+")",rgba:"rgba("+i.join(",")+")",hex:arrayToHex(r),hexa:arrayToHex(e),isDark:n,isLight:!n,error:t}},e.prototype.destroy=function(){this.canvas&&(this.canvas.width=1,this.canvas.height=1,this.canvas=null),this.ctx=null},e.prototype.bindImageEvents=function(s,o){var l=this;return new Promise(function(t,r){function i(){s.removeEventListener("load",e),s.removeEventListener("error",n),s.removeEventListener("abort",a)}var e=function(){i();var e=l.getColor(s,o);e.error?r(e.error):t(e)},n=function(){i(),r(getError('Error loading image "'.concat(s.src,'"')))},a=function(){i(),r(getError('Image "'.concat(s.src,'" loading aborted')))};s.addEventListener("load",e),s.addEventListener("error",n),s.addEventListener("abort",a)})},e}(),lyricsBackdropBlurValue=20,lyricsBackdropGlobalCompositeOperation="destination-out",lyricsBackdropImageSmoothingEnabled=!1,lyricsBackdropAnimationDurationSec=.8,lyricsBackdropAnimationEasingVariant="sine.out",lyricsBackdropMaxFinalSaturation=.8,lyricsBackdropMinFinalSaturation=.5,lyricsBackdropMinOriginalSaturation=.05,lyricsBackdropMaxSaturationCoefficient=1.7,lyricsBackdropMaxBrightness=.5,lyricsAnimationName="reveal",lyricsAnimationTimingFunction="ease",lyricsAnimationDelayStepMs=50,lyricsAnimationDelayMsMax=1e3,lyricsAnimationDelayStepMultiplier=10,lyricsAnimationDurationStepMs=200,lyricsAnimationDurationMsMax=1e3,lyricsAnimationDurationStepMultiplier=100,mainViewContainerSelector=".main-view-container",underMainViewSelector=".under-main-view",lyricsCinemaElementSelector=".Root__lyrics-cinema",lyricsContentWrapperSelector=".lyrics-lyrics-contentWrapper",lyricsLinesSelecor=".lyrics-lyricsContent-lyric",lyricsContentProviderSelector=".lyrics-lyricsContent-provider",lyricsBackdropContainerId="lyrics-backdrop-container",lyricsBackdropElementId="lyrics-backdrop",lyricsMaxWidthCSSVariable="--lyrics-active-max-width";function roundToDecimal(e,t){t=10**t;return Math.round(e*t)/t}var roundToDecimal_default=roundToDecimal;async function calculateBrightnessCoefficientAsync(e){var t=new FastAverageColor,r=[0,0,0,255,Math.floor(255*lyricsBackdropMaxBrightness)],e=await t.getColorAsync(e,{ignoredColor:r}),r=Math.max(...e.value.slice(0,3)),r=roundToDecimal_default(r/255,1),e=lyricsBackdropMaxBrightness<r?1-(r-lyricsBackdropMaxBrightness):1;return t.destroy(),e}var calculateBrightnessCoefficientAsync_default=calculateBrightnessCoefficientAsync;async function getImageSaturationAsync(e){var t=new FastAverageColor,e=(await t.getColorAsync(e,{ignoredColor:[0,0,0,255,10]})).value.slice(0,3),r=Math.max(...e),e=Math.min(...e),e=0!==r?(r-e)/r:0;return t.destroy(),e}var getImageSaturationAsync_default=getImageSaturationAsync;async function calculateSaturationCoefficientAsync(e,t){var[e,t]=await Promise.all([getImageSaturationAsync_default(e),getImageSaturationAsync_default(t)]);let r=1;t<e&&(r=e/t);t=roundToDecimal_default(t*r,1);return lyricsBackdropMaxFinalSaturation<t&&(r=1-(t-lyricsBackdropMaxFinalSaturation)),t<lyricsBackdropMinFinalSaturation&&lyricsBackdropMinOriginalSaturation<e&&(r+=lyricsBackdropMinFinalSaturation-t),r>lyricsBackdropMaxSaturationCoefficient&&(r=lyricsBackdropMaxSaturationCoefficient),roundToDecimal_default(r,1)}var calculateSaturationCoefficientAsync_default=calculateSaturationCoefficientAsync;async function setLyricsBackdropFiltersAsync(e,t){var[t,r]=await Promise.all([calculateBrightnessCoefficientAsync_default(e),calculateSaturationCoefficientAsync_default(t,e)]);e.style.filter=`saturate(${r}) brightness(${t})`}var setLyricsBackdropFiltersAsync_default=setLyricsBackdropFiltersAsync;function calculateLyricsMaxWidth(e){var t=e.parentElement,r=parseInt(window.getComputedStyle(e).marginLeft,10),e=e.offsetLeft+r;return Math.round(.95*(t.clientWidth-e))}var calculateLyricsMaxWidth_default=calculateLyricsMaxWidth;function fixLyricsActiveLineClipping(e){e=calculateLyricsMaxWidth_default(e);document.documentElement.style.setProperty(lyricsMaxWidthCSSVariable,e+"px")}var fixLyricsActiveLineClipping_default=fixLyricsActiveLineClipping;async function calculateContextDrawValuesAsync(e,t){return[e.width+2*t,e.height+2*t,0-t,0-t]}var calculateContextDrawValuesAsync_default=calculateContextDrawValuesAsync;function fillCanvas(e){var t=getComputedStyle(document.documentElement).getPropertyValue("--spice-rgb-main").split(","),r=e.getContext("2d");r.fillStyle=`rgb(
    ${t[0]},
    ${t[1]},
    ${t[2]}
    )`,r.fillRect(0,0,e.width,e.height)}var fillCanvas_default=fillCanvas;function createLyricsBackdropElement(){var e=document.createElement("canvas"),t=(e.id=lyricsBackdropElementId,fillCanvas_default(e),e.getContext("2d"));return t.imageSmoothingEnabled=lyricsBackdropImageSmoothingEnabled,t.filter=`blur(${lyricsBackdropBlurValue}px)`,e}var createLyricsBackdropElement_default=createLyricsBackdropElement;function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}var _config={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},_defaults={duration:.5,overwrite:!1,delay:0},_suppressOverwrites,_reverting,_context,_bigNum=1e8,_tinyNum=1/_bigNum,_2PI=2*Math.PI,_HALF_PI=_2PI/4,_gsID=0,_sqrt=Math.sqrt,_cos=Math.cos,_sin=Math.sin,_isString=function(e){return"string"==typeof e},_isFunction=function(e){return"function"==typeof e},_isNumber=function(e){return"number"==typeof e},_isUndefined=function(e){return void 0===e},_isObject=function(e){return"object"==typeof e},_isNotFalse=function(e){return!1!==e},_windowExists=function(){return"undefined"!=typeof window},_isFuncOrString=function(e){return _isFunction(e)||_isString(e)},_isTypedArray="function"==typeof ArrayBuffer&&ArrayBuffer.isView||function(){},_isArray=Array.isArray,_strictNumExp=/(?:-?\.?\d|\.)+/gi,_numExp=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,_numWithUnitExp=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,_complexStringNumExp=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,_relExp=/[+-]=-?[.\d]+/,_delimitedValueExp=/[^,'"\[\]\s]+/gi,_unitExp=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,_globalTimeline,_win,_coreInitted,_doc,_globals={},_installScope={},_coreReady,_install=function(e){return(_installScope=_merge(e,_globals))&&gsap},_missingPlugin=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},_warn=function(e,t){return!t&&console.warn(e)},_addGlobal=function(e,t){return e&&(_globals[e]=t)&&_installScope&&(_installScope[e]=t)||_globals},_emptyFunc=function(){return 0},_startAtRevertConfig={suppressEvents:!0,isStart:!0,kill:!1},_revertConfigNoKill={suppressEvents:!0,kill:!1},_revertConfig={suppressEvents:!0},_reservedProps={},_lazyTweens=[],_lazyLookup={},_lastRenderedFrame,_plugins={},_effects={},_nextGCFrame=30,_harnessPlugins=[],_callbackNames="",_harness=function(e){var t,r,i=e[0];if(_isObject(i)||_isFunction(i)||(e=[e]),!(t=(i._gsap||{}).harness)){for(r=_harnessPlugins.length;r--&&!_harnessPlugins[r].targetTest(i););t=_harnessPlugins[r]}for(r=e.length;r--;)e[r]&&(e[r]._gsap||(e[r]._gsap=new GSCache(e[r],t)))||e.splice(r,1);return e},_getCache=function(e){return e._gsap||_harness(toArray(e))[0]._gsap},_getProperty=function(e,t,r){return(r=e[t])&&_isFunction(r)?e[t]():_isUndefined(r)&&e.getAttribute&&e.getAttribute(t)||r},_forEachName=function(e,t){return(e=e.split(",")).forEach(t)||e},_round=function(e){return Math.round(1e5*e)/1e5||0},_roundPrecise=function(e){return Math.round(1e7*e)/1e7||0},_parseRelative=function(e,t){var r=t.charAt(0),t=parseFloat(t.substr(2));return e=parseFloat(e),"+"===r?e+t:"-"===r?e-t:"*"===r?e*t:e/t},_arrayContainsAny=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},_lazyRender=function(){var e,t,r=_lazyTweens.length,i=_lazyTweens.slice(0);for(_lazyLookup={},e=_lazyTweens.length=0;e<r;e++)(t=i[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)},_lazySafeRender=function(e,t,r,i){_lazyTweens.length&&!_reverting&&_lazyRender(),e.render(t,r,i||_reverting&&t<0&&(e._initted||e._startAt)),_lazyTweens.length&&!_reverting&&_lazyRender()},_numericIfPossible=function(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(_delimitedValueExp).length<2?t:_isString(e)?e.trim():e},_passThrough=function(e){return e},_setDefaults=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},_setKeyframeDefaults=function(i){return function(e,t){for(var r in t)r in e||"duration"===r&&i||"ease"===r||(e[r]=t[r])}},_merge=function(e,t){for(var r in t)e[r]=t[r];return e},_mergeDeep=function e(t,r){for(var i in r)"__proto__"!==i&&"constructor"!==i&&"prototype"!==i&&(t[i]=_isObject(r[i])?e(t[i]||(t[i]={}),r[i]):r[i]);return t},_copyExcluding=function(e,t){var r,i={};for(r in e)r in t||(i[r]=e[r]);return i},_inheritDefaults=function(e){var t=e.parent||_globalTimeline,r=e.keyframes?_setKeyframeDefaults(_isArray(e.keyframes)):_setDefaults;if(_isNotFalse(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},_arraysMatch=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},_addLinkedListItem=function(e,t,r,i,n){void 0===r&&(r="_first");var a,s=e[i=void 0===i?"_last":i];if(n)for(a=t[n];s&&s[n]>a;)s=s._prev;return s?(t._next=s._next,s._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=s,t.parent=t._dp=e,t},_removeLinkedListItem=function(e,t,r,i){void 0===r&&(r="_first"),void 0===i&&(i="_last");var n=t._prev,a=t._next;n?n._next=a:e[r]===t&&(e[r]=a),a?a._prev=n:e[i]===t&&(e[i]=n),t._next=t._prev=t.parent=null},_removeFromParent=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},_uncache=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},_recacheAncestors=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},_rewindStartAt=function(e,t,r,i){return e._startAt&&(_reverting?e._startAt.revert(_revertConfigNoKill):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},_hasNoPausedAncestors=function e(t){return!t||t._ts&&e(t.parent)},_elapsedCycleDuration=function(e){return e._repeat?_animationCycle(e._tTime,e=e.duration()+e._rDelay)*e:0},_animationCycle=function(e,t){t=Math.floor(e/=t);return e&&t===e?t-1:t},_parentToChildTotalTime=function(e,t){return(e-t._start)*t._ts+(0<=t._ts?0:t._dirty?t.totalDuration():t._tDur)},_setEnd=function(e){return e._end=_roundPrecise(e._start+(e._tDur/Math.abs(e._ts||e._rts||_tinyNum)||0))},_alignPlayhead=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=_roundPrecise(r._time-(0<e._ts?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),_setEnd(e),r._dirty||_uncache(r,e)),e},_postAddChecks=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=_parentToChildTotalTime(e.rawTime(),t),!t._dur||_clamp(0,t.totalDuration(),r)-t._tTime>_tinyNum)&&t.render(r,!0),_uncache(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)0<=r.rawTime()&&r.totalTime(r._tTime),r=r._dp;e._zTime=-_tinyNum}},_addToTimeline=function(e,t,r,i){return t.parent&&_removeFromParent(t),t._start=_roundPrecise((_isNumber(r)?r:r||e!==_globalTimeline?_parsePosition(e,r,t):e._time)+t._delay),t._end=_roundPrecise(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),_addLinkedListItem(e,t,"_first","_last",e._sort?"_start":0),_isFromOrFromStart(t)||(e._recent=t),i||_postAddChecks(e,t),e._ts<0&&_alignPlayhead(e,e._tTime),e},_scrollTrigger=function(e,t){return(_globals.ScrollTrigger||_missingPlugin("scrollTrigger",t))&&_globals.ScrollTrigger.create(t,e)},_attemptInitTween=function(e,t,r,i,n){return _initTween(e,t,n),e._initted?!r&&e._pt&&!_reverting&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&_lastRenderedFrame!==_ticker.frame?(_lazyTweens.push(e),e._lazy=[n,i],1):void 0:1},_parentPlayheadIsBeforeStart=function e(t){t=t.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||e(t))},_isFromOrFromStart=function(e){e=e.data;return"isFromStart"===e||"isStart"===e},_renderZeroDurationTween=function(e,t,r,i){var n,a,s=e.ratio,o=t<0||!t&&(!e._start&&_parentPlayheadIsBeforeStart(e)&&(e._initted||!_isFromOrFromStart(e))||(e._ts<0||e._dp._ts<0)&&!_isFromOrFromStart(e))?0:1,l=e._rDelay,c=0;if(l&&e._repeat&&(c=_clamp(0,e._tDur,t),a=_animationCycle(c,l),e._yoyo&&1&a&&(o=1-o),a!==_animationCycle(e._tTime,l))&&(s=1-o,e.vars.repeatRefresh)&&e._initted&&e.invalidate(),o!==s||_reverting||i||e._zTime===_tinyNum||!t&&e._zTime){if(e._initted||!_attemptInitTween(e,t,i,r,c)){for(a=e._zTime,e._zTime=t||(r?_tinyNum:0),r=r||t&&!a,e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=c,n=e._pt;n;)n.r(o,n.d),n=n._next;t<0&&_rewindStartAt(e,t,r,!0),e._onUpdate&&!r&&_callback(e,"onUpdate"),c&&e._repeat&&!r&&e.parent&&_callback(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&_removeFromParent(e,1),r||_reverting||(_callback(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}}else e._zTime||(e._zTime=t)},_findNextPauseTween=function(e,t,r){var i;if(t<r)for(i=e._first;i&&i._start<=r;){if("isPause"===i.data&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if("isPause"===i.data&&i._start<t)return i;i=i._prev}},_setDuration=function(e,t,r,i){var n=e._repeat,t=_roundPrecise(t)||0,a=e._tTime/e._tDur;return a&&!i&&(e._time*=t/e._dur),e._dur=t,e._tDur=n?n<0?1e10:_roundPrecise(t*(n+1)+e._rDelay*n):t,0<a&&!i&&_alignPlayhead(e,e._tTime=e._tDur*a),e.parent&&_setEnd(e),r||_uncache(e.parent,e),e},_onUpdateTotalDuration=function(e){return e instanceof Timeline?_uncache(e):_setDuration(e,e._dur)},_zeroPosition={_start:0,endTime:_emptyFunc,totalDuration:_emptyFunc},_parsePosition=function e(t,r,i){var n,a,s,o=t.labels,l=t._recent||_zeroPosition,c=t.duration()>=_bigNum?l.endTime(!1):t._dur;return _isString(r)&&(isNaN(r)||r in o)?(a=r.charAt(0),s="%"===r.substr(-1),n=r.indexOf("="),"<"===a||">"===a?(0<=n&&(r=r.replace(/=/,"")),("<"===a?l._start:l.endTime(0<=l._repeat))+(parseFloat(r.substr(1))||0)*(s?(n<0?l:i).totalDuration()/100:1)):n<0?(r in o||(o[r]=c),o[r]):(a=parseFloat(r.charAt(n-1)+r.substr(n+1)),s&&i&&(a=a/100*(_isArray(i)?i[0]:i).totalDuration()),1<n?e(t,r.substr(0,n-1),i)+a:c+a)):null==r?c:+r},_createTweenType=function(e,t,r){var i,n,a=_isNumber(t[1]),s=(a?2:1)+(e<2?0:1),o=t[s];if(a&&(o.duration=t[1]),o.parent=r,e){for(i=o,n=r;n&&!("immediateRender"in i);)i=n.vars.defaults||{},n=_isNotFalse(n.vars.inherit)&&n.parent;o.immediateRender=_isNotFalse(i.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Tween(t[0],o,t[1+s])},_conditionalReturn=function(e,t){return e||0===e?t(e):t},_clamp=function(e,t,r){return r<e?e:t<r?t:r},getUnit=function(e,t){return _isString(e)&&(t=_unitExp.exec(e))?t[1]:""},clamp=function(t,r,e){return _conditionalReturn(e,function(e){return _clamp(t,r,e)})},_slice=[].slice,_isArrayLike=function(e,t){return e&&_isObject(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&_isObject(e[0]))&&!e.nodeType&&e!==_win},_flatten=function(e,t,r){return void 0===r&&(r=[]),e.forEach(function(e){return _isString(e)&&!t||_isArrayLike(e,1)?r.push.apply(r,toArray(e)):r.push(e)})||r},toArray=function(e,t,r){return _context&&!t&&_context.selector?_context.selector(e):!_isString(e)||r||!_coreInitted&&_wake()?_isArray(e)?_flatten(e,r):_isArrayLike(e)?_slice.call(e,0):e?[e]:[]:_slice.call((t||_doc).querySelectorAll(e),0)},selector=function(r){return r=toArray(r)[0]||_warn("Invalid scope")||{},function(e){var t=r.current||r.nativeElement||r;return toArray(e,t.querySelectorAll?t:t===r?_warn("Invalid scope")||_doc.createElement("div"):r)}},shuffle=function(e){return e.sort(function(){return.5-Math.random()})},distribute=function(e){var p,f,h,m,g,y,v,w,T;return _isFunction(e)?e:(p=_isObject(e)?e:{each:e},f=_parseEase(p.ease),h=p.from||0,m=parseFloat(p.base)||0,g={},e=0<h&&h<1,y=isNaN(h)||e,v=p.axis,_isString(T=w=h)?w=T={center:.5,edges:.5,end:1}[h]||0:!e&&y&&(w=h[0],T=h[1]),function(e,t,r){var i,n,a,s,o,l,c,u,_=(r||p).length,d=g[_];if(!d){if(!(u="auto"===p.grid?0:(p.grid||[1,_bigNum])[1])){for(l=-_bigNum;l<(l=r[u++].getBoundingClientRect().left)&&u<_;);u--}for(d=g[_]=[],i=y?Math.min(u,_)*w-.5:h%u,n=u===_bigNum?0:y?_*T/u-.5:h/u|0,c=_bigNum,o=l=0;o<_;o++)s=o%u-i,a=n-(o/u|0),d[o]=s=v?Math.abs("y"===v?a:s):_sqrt(s*s+a*a),l<s&&(l=s),s<c&&(c=s);"random"===h&&shuffle(d),d.max=l-c,d.min=c,d.v=_=(parseFloat(p.amount)||parseFloat(p.each)*(_<u?_-1:v?"y"===v?_/u:u:Math.max(u,_/u))||0)*("edges"===h?-1:1),d.b=_<0?m-_:m,d.u=getUnit(p.amount||p.each)||0,f=f&&_<0?_invertEase(f):f}return _=(d[e]-d.min)/d.max||0,_roundPrecise(d.b+(f?f(_):_)*d.v)+d.u})},_roundModifier=function(r){var i=Math.pow(10,((r+"").split(".")[1]||"").length);return function(e){var t=_roundPrecise(Math.round(parseFloat(e)/r)*r*i);return(t-t%1)/i+(_isNumber(e)?0:getUnit(e))}},snap=function(l,e){var c,u,t=_isArray(l);return!t&&_isObject(l)&&(c=t=l.radius||_bigNum,l.values?(l=toArray(l.values),(u=!_isNumber(l[0]))&&(c*=c)):l=_roundModifier(l.increment)),_conditionalReturn(e,t?_isFunction(l)?function(e){return u=l(e),Math.abs(u-e)<=c?u:e}:function(e){for(var t,r,i=parseFloat(u?e.x:e),n=parseFloat(u?e.y:0),a=_bigNum,s=0,o=l.length;o--;)(t=u?(t=l[o].x-i)*t+(r=l[o].y-n)*r:Math.abs(l[o]-i))<a&&(a=t,s=o);return s=!c||a<=c?l[s]:e,u||s===e||_isNumber(e)?s:s+getUnit(e)}:_roundModifier(l))},random=function(e,t,r,i){return _conditionalReturn(_isArray(e)?!t:!0===r?!!(r=0):!i,function(){return _isArray(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+.99*r))/r)*r*i)/i})},pipe=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return t.reduce(function(e,t){return t(e)},e)}},unitize=function(t,r){return function(e){return t(parseFloat(e))+(r||getUnit(e))}},normalize=function(e,t,r){return mapRange(e,t,0,1,r)},_wrapArray=function(t,r,e){return _conditionalReturn(e,function(e){return t[~~r(e)]})},wrap=function e(t,r,i){var n=r-t;return _isArray(t)?_wrapArray(t,e(0,t.length),r):_conditionalReturn(i,function(e){return(n+(e-t)%n)%n+t})},wrapYoyo=function e(t,r,i){var n=r-t,a=2*n;return _isArray(t)?_wrapArray(t,e(0,t.length-1),r):_conditionalReturn(i,function(e){return t+(n<(e=(a+(e-t)%a)%a||0)?a-e:e)})},_replaceRandom=function(e){for(var t,r,i,n,a=0,s="";~(t=e.indexOf("random(",a));)i=e.indexOf(")",t),n="["===e.charAt(t+7),r=e.substr(t+7,i-t-7).match(n?_delimitedValueExp:_strictNumExp),s+=e.substr(a,t-a)+random(n?r:+r[0],n?0:+r[1],+r[2]||1e-5),a=i+1;return s+e.substr(a,e.length-a)},mapRange=function(t,e,r,i,n){var a=e-t,s=i-r;return _conditionalReturn(n,function(e){return r+((e-t)/a*s||0)})},interpolate=function e(t,r,i,n){var a=isNaN(t+r)?0:function(e){return(1-e)*t+e*r};if(!a){var s,o,l,c,u,_=_isString(t),d={};if(!0===i&&(n=1,i=null),_)t={p:t},r={p:r};else if(_isArray(t)&&!_isArray(r)){for(l=[],c=t.length,u=c-2,o=1;o<c;o++)l.push(e(t[o-1],t[o]));c--,a=function(e){e*=c;var t=Math.min(u,~~e);return l[t](e-t)},i=r}else n||(t=_merge(_isArray(t)?[]:{},t));if(!l){for(s in r)_addPropTween.call(d,t,s,"get",r[s]);a=function(e){return _renderPropTweens(e,d)||(_?t.p:t)}}}return _conditionalReturn(i,a)},_getLabelInDirection=function(e,t,r){var i,n,a,s=e.labels,o=_bigNum;for(i in s)(n=s[i]-t)<0==!!r&&n&&o>(n=Math.abs(n))&&(a=i,o=n);return a},_callback=function(e,t,r){var i=e.vars,n=i[t],a=_context,s=e._ctx;if(n)return t=i[t+"Params"],i=i.callbackScope||e,r&&_lazyTweens.length&&_lazyRender(),s&&(_context=s),e=t?n.apply(i,t):n.call(i),_context=a,e},_interrupt=function(e){return _removeFromParent(e),e.scrollTrigger&&e.scrollTrigger.kill(!!_reverting),e.progress()<1&&_callback(e,"onInterrupt"),e},_quickTween,_registerPluginQueue=[],_createPlugin=function(e){if(_windowExists()&&e){var t=(e=!e.name&&e.default||e).name,r=_isFunction(e),r=t&&!r&&e.init?function(){this._props=[]}:e,i={init:_emptyFunc,render:_renderPropTweens,add:_addPropTween,kill:_killPropTweensOf,modifier:_addPluginModifier,rawVars:0},n={targetTest:0,get:0,getSetter:_getSetter,aliases:{},register:0};if(_wake(),e!==r){if(_plugins[t])return;_setDefaults(r,_setDefaults(_copyExcluding(e,i),n)),_merge(r.prototype,_merge(i,_copyExcluding(e,n))),_plugins[r.prop=t]=r,e.targetTest&&(_harnessPlugins.push(r),_reservedProps[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}_addGlobal(t,r),e.register&&e.register(gsap,r,PropTween)}else e&&_registerPluginQueue.push(e)},_255=255,_colorLookup={aqua:[0,_255,_255],lime:[0,_255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,_255],navy:[0,0,128],white:[_255,_255,_255],olive:[128,128,0],yellow:[_255,_255,0],orange:[_255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[_255,0,0],pink:[_255,192,203],cyan:[0,_255,_255],transparent:[_255,_255,_255,0]},_hue=function(e,t,r){return(6*(e+=e<0?1:1<e?-1:0)<1?t+(r-t)*e*6:e<.5?r:3*e<2?t+(r-t)*(2/3-e)*6:t)*_255+.5|0},splitColor=function(e,t,r){var i,n,a,s,o,l,c,u=e?_isNumber(e)?[e>>16,e>>8&_255,e&_255]:0:_colorLookup.black;if(!u){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),_colorLookup[e])u=_colorLookup[e];else if("#"===e.charAt(0)){if(9===(e=e.length<6?"#"+(i=e.charAt(1))+i+(n=e.charAt(2))+n+(a=e.charAt(3))+a+(5===e.length?e.charAt(4)+e.charAt(4):""):e).length)return[(u=parseInt(e.substr(1,6),16))>>16,u>>8&_255,u&_255,parseInt(e.substr(7),16)/255];u=[(e=parseInt(e.substr(1),16))>>16,e>>8&_255,e&_255]}else if("hsl"===e.substr(0,3))if(u=c=e.match(_strictNumExp),t){if(~e.indexOf("="))return u=e.match(_numExp),r&&u.length<4&&(u[3]=1),u}else s=+u[0]%360/360,o=+u[1]/100,i=2*(l=+u[2]/100)-(n=l<=.5?l*(o+1):l+o-l*o),3<u.length&&(u[3]*=1),u[0]=_hue(s+1/3,i,n),u[1]=_hue(s,i,n),u[2]=_hue(s-1/3,i,n);else u=e.match(_strictNumExp)||_colorLookup.transparent;u=u.map(Number)}return t&&!c&&(i=u[0]/_255,n=u[1]/_255,a=u[2]/_255,l=((e=Math.max(i,n,a))+(t=Math.min(i,n,a)))/2,e===t?s=o=0:(c=e-t,o=.5<l?c/(2-e-t):c/(e+t),s=e===i?(n-a)/c+(n<a?6:0):e===n?(a-i)/c+2:(i-n)/c+4,s*=60),u[0]=~~(s+.5),u[1]=~~(100*o+.5),u[2]=~~(100*l+.5)),r&&u.length<4&&(u[3]=1),u},_colorOrderData=function(e){var t=[],r=[],i=-1;return e.split(_colorExp).forEach(function(e){e=e.match(_numWithUnitExp)||[];t.push.apply(t,e),r.push(i+=e.length+1)}),t.c=r,t},_formatColors=function(e,t,r){var i,n,a,s,o="",l=(e+o).match(_colorExp),c=t?"hsla(":"rgba(",u=0;if(!l)return e;if(l=l.map(function(e){return(e=splitColor(e,t,1))&&c+(t?e[0]+","+e[1]+"%,"+e[2]+"%,"+e[3]:e.join(","))+")"}),r&&(a=_colorOrderData(e),(i=r.c).join(o)!==a.c.join(o)))for(s=(n=e.replace(_colorExp,"1").split(_numWithUnitExp)).length-1;u<s;u++)o+=n[u]+(~i.indexOf(u)?l.shift()||c+"0,0,0,0)":(a.length?a:l.length?l:r).shift());if(!n)for(s=(n=e.split(_colorExp)).length-1;u<s;u++)o+=n[u]+l[u];return o+n[s]},_colorExp=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b";for(e in _colorLookup)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),_hslExp=/hsl[a]?\(/,_colorStringFilter=function(e){var t=e.join(" ");if(_colorExp.lastIndex=0,_colorExp.test(t))return t=_hslExp.test(t),e[1]=_formatColors(e[1],t),e[0]=_formatColors(e[0],t,_colorOrderData(e[1])),!0},_tickerActive,_ticker=function(){function s(e){var t,r,i,n=_()-h,a=!0===e;if(d<n&&(f+=n-p),(0<(n=(r=(h+=n)-f)-g)||a)&&(i=++v.frame,c=r-1e3*v.time,v.time=r/=1e3,g+=n+(m<=n?4:m-n),t=1),a||(o=l(s)),t)for(u=0;u<y.length;u++)y[u](r,c,i,e)}var o,l,e,c,u,_=Date.now,d=500,p=33,f=_(),h=f,m=1e3/240,g=m,y=[],v={time:0,frame:0,tick:function(){s(!0)},deltaRatio:function(e){return c/(1e3/(e||60))},wake:function(){_coreReady&&(!_coreInitted&&_windowExists()&&(_win=_coreInitted=window,_doc=_win.document||{},_globals.gsap=gsap,(_win.gsapVersions||(_win.gsapVersions=[])).push(gsap.version),_install(_installScope||_win.GreenSockGlobals||!_win.gsap&&_win||{}),e=_win.requestAnimationFrame,_registerPluginQueue.forEach(_createPlugin)),o&&v.sleep(),l=e||function(e){return setTimeout(e,g-1e3*v.time+1|0)},_tickerActive=1,s(2))},sleep:function(){(e?_win.cancelAnimationFrame:clearTimeout)(o),_tickerActive=0,l=_emptyFunc},lagSmoothing:function(e,t){d=e||1/0,p=Math.min(t||33,d)},fps:function(e){m=1e3/(e||240),g=1e3*v.time+m},add:function(n,e,t){var a=e?function(e,t,r,i){n(e,t,r,i),v.remove(a)}:n;return v.remove(n),y[t?"unshift":"push"](a),_wake(),a},remove:function(e,t){~(t=y.indexOf(e))&&y.splice(t,1)&&t<=u&&u--},_listeners:y};return v}(),_wake=function(){return!_tickerActive&&_ticker.wake()},_easeMap={},_customEaseExp=/^[\d.\-M][\d.\-,\s]/,_quotesExp=/["']/g,_parseObjectInString=function(e){for(var t,r,i,n={},a=e.substr(1,e.length-3).split(":"),s=a[0],o=1,l=a.length;o<l;o++)r=a[o],t=o!==l-1?r.lastIndexOf(","):r.length,i=r.substr(0,t),n[s]=isNaN(i)?i.replace(_quotesExp,"").trim():+i,s=r.substr(t+1).trim();return n},_valueInParentheses=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},_configEaseFromString=function(e){var t=(e+"").split("("),r=_easeMap[t[0]];return r&&1<t.length&&r.config?r.config.apply(null,~e.indexOf("{")?[_parseObjectInString(t[1])]:_valueInParentheses(e).split(",").map(_numericIfPossible)):_easeMap._CE&&_customEaseExp.test(e)?_easeMap._CE("",e):r},_invertEase=function(t){return function(e){return 1-t(1-e)}},_propagateYoyoEase=function e(t,r){for(var i,n=t._first;n;)n instanceof Timeline?e(n,r):!n.vars.yoyoEase||n._yoyo&&n._repeat||n._yoyo===r||(n.timeline?e(n.timeline,r):(i=n._ease,n._ease=n._yEase,n._yEase=i,n._yoyo=r)),n=n._next},_parseEase=function(e,t){return e&&(_isFunction(e)?e:_easeMap[e]||_configEaseFromString(e))||t},_insertEase=function(e,t,r,i){var n,a={easeIn:t,easeOut:r=void 0===r?function(e){return 1-t(1-e)}:r,easeInOut:i=void 0===i?function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2}:i};return _forEachName(e,function(e){for(var t in _easeMap[e]=_globals[e]=a,_easeMap[n=e.toLowerCase()]=r,a)_easeMap[n+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=_easeMap[e+"."+t]=a[t]}),a},_easeInOutFromOut=function(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}},_configElastic=function r(i,e,t){function n(e){return 1===e?1:a*Math.pow(2,-10*e)*_sin((e-s)*o)+1}var a=1<=e?e:1,s=(o=(t||(i?.3:.45))/(e<1?e:1))/_2PI*(Math.asin(1/a)||0),t="out"===i?n:"in"===i?function(e){return 1-n(1-e)}:_easeInOutFromOut(n),o=_2PI/o;return t.config=function(e,t){return r(i,e,t)},t},_configBack=function t(r,i){void 0===i&&(i=1.70158);function n(e){return e?--e*e*((i+1)*e+i)+1:0}var e="out"===r?n:"in"===r?function(e){return 1-n(1-e)}:_easeInOutFromOut(n);return e.config=function(e){return t(r,e)},e},GSCache=(_forEachName("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var r=t<5?t+1:t;_insertEase(e+",Power"+(r-1),t?function(e){return Math.pow(e,r)}:function(e){return e},function(e){return 1-Math.pow(1-e,r)},function(e){return e<.5?Math.pow(2*e,r)/2:1-Math.pow(2*(1-e),r)/2})}),_easeMap.Linear.easeNone=_easeMap.none=_easeMap.Linear.easeIn,_insertEase("Elastic",_configElastic("in"),_configElastic("out"),_configElastic()),!function(t){function r(e){return e<i?t*e*e:e<.7272727272727273?t*Math.pow(e-1.5/2.75,2)+.75:e<.9090909090909092?t*(e-=2.25/2.75)*e+.9375:t*Math.pow(e-2.625/2.75,2)+.984375}var i=1/2.75;_insertEase("Bounce",function(e){return 1-r(1-e)},r)}(7.5625),_insertEase("Expo",function(e){return e?Math.pow(2,10*(e-1)):0}),_insertEase("Circ",function(e){return-(_sqrt(1-e*e)-1)}),_insertEase("Sine",function(e){return 1===e?1:1-_cos(e*_HALF_PI)}),_insertEase("Back",_configBack("in"),_configBack("out"),_configBack()),_easeMap.SteppedEase=_easeMap.steps=_globals.SteppedEase={config:function(e,t){var r=1/(e=void 0===e?1:e),i=e+(t?0:1),n=t?1:0,a=1-_tinyNum;return function(e){return((i*_clamp(0,a,e)|0)+n)*r}}},_defaults.ease=_easeMap["quad.out"],_forEachName("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(e){return _callbackNames+=e+","+e+"Params,"}),function(e,t){this.id=_gsID++,(e._gsap=this).target=e,this.harness=t,this.get=t?t.get:_getProperty,this.set=t?t.getSetter:_getSetter}),Animation=function(){function e(e){this.vars=e,this._delay=+e.delay||0,(this._repeat=e.repeat===1/0?-2:e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase),this._ts=1,_setDuration(this,+e.duration,1,1),this.data=e.data,_context&&(this._ctx=_context).data.push(this),_tickerActive||_ticker.wake()}var t=e.prototype;return t.delay=function(e){return e||0===e?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+e-this._delay),this._delay=e,this):this._delay},t.duration=function(e){return arguments.length?this.totalDuration(0<this._repeat?e+(e+this._rDelay)*this._repeat:e):this.totalDuration()&&this._dur},t.totalDuration=function(e){return arguments.length?(this._dirty=0,_setDuration(this,this._repeat<0?e:(e-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},t.totalTime=function(e,t){if(_wake(),!arguments.length)return this._tTime;var r=this._dp;if(r&&r.smoothChildTiming&&this._ts){for(_alignPlayhead(this,e),r._dp&&!r.parent&&_postAddChecks(r,this);r&&r.parent;)r.parent._time!==r._start+(0<=r._ts?r._tTime/r._ts:(r.totalDuration()-r._tTime)/-r._ts)&&r.totalTime(r._tTime,!0),r=r.parent;!this.parent&&this._dp.autoRemoveChildren&&(0<this._ts&&e<this._tDur||this._ts<0&&0<e||!this._tDur&&!e)&&_addToTimeline(this._dp,this,this._start-this._delay)}return(this._tTime!==e||!this._dur&&!t||this._initted&&Math.abs(this._zTime)===_tinyNum||!e&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=e),_lazySafeRender(this,e,t)),this},t.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+_elapsedCycleDuration(this))%(this._dur+this._rDelay)||(e?this._dur:0),t):this._time},t.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.ratio},t.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+_elapsedCycleDuration(this),t):this.duration()?Math.min(1,this._time/this._dur):this.ratio},t.iteration=function(e,t){var r=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*r,t):this._repeat?_animationCycle(this._tTime,r)+1:1},t.timeScale=function(e){var t;return arguments.length?this._rts===e?this:(t=this.parent&&this._ts?_parentToChildTotalTime(this.parent._time,this):this._tTime,this._rts=+e||0,this._ts=this._ps||e===-_tinyNum?0:this._rts,this.totalTime(_clamp(-Math.abs(this._delay),this._tDur,t),!0),_setEnd(this),_recacheAncestors(this)):this._rts===-_tinyNum?0:this._rts},t.paused=function(e){return arguments.length?(this._ps!==e&&((this._ps=e)?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(_wake(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,1===this.progress()&&Math.abs(this._zTime)!==_tinyNum&&(this._tTime-=_tinyNum)))),this):this._ps},t.startTime=function(e){var t;return arguments.length?(this._start=e,!(t=this.parent||this._dp)||!t._sort&&this.parent||_addToTimeline(t,this,e-this._delay),this):this._start},t.endTime=function(e){return this._start+(_isNotFalse(e)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},t.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?_parentToChildTotalTime(t.rawTime(e),this):this._tTime:this._tTime},t.revert=function(e){var t=_reverting;return _reverting=e=void 0===e?_revertConfig:e,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(e),this.totalTime(-.01,e.suppressEvents)),"nested"!==this.data&&!1!==e.kill&&this.kill(),_reverting=t,this},t.globalTime=function(e){for(var t=this,r=arguments.length?e:t.rawTime();t;)r=t._start+r/(t._ts||1),t=t._dp;return!this.parent&&this._sat?this._sat.vars.immediateRender?-1/0:this._sat.globalTime(e):r},t.repeat=function(e){return arguments.length?(this._repeat=e===1/0?-2:e,_onUpdateTotalDuration(this)):-2===this._repeat?1/0:this._repeat},t.repeatDelay=function(e){var t;return arguments.length?(t=this._time,this._rDelay=e,_onUpdateTotalDuration(this),t?this.time(t):this):this._rDelay},t.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},t.seek=function(e,t){return this.totalTime(_parsePosition(this,e),_isNotFalse(t))},t.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,_isNotFalse(t))},t.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},t.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},t.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},t.resume=function(){return this.paused(!1)},t.reversed=function(e){return arguments.length?(!!e!==this.reversed()&&this.timeScale(-this._rts||(e?-_tinyNum:0)),this):this._rts<0},t.invalidate=function(){return this._initted=this._act=0,this._zTime=-_tinyNum,this},t.isActive=function(){var e=this.parent||this._dp,t=this._start;return!(e&&!(this._ts&&this._initted&&e.isActive()&&(e=e.rawTime(!0))>=t&&e<this.endTime(!0)-_tinyNum))},t.eventCallback=function(e,t,r){var i=this.vars;return 1<arguments.length?(t?(i[e]=t,r&&(i[e+"Params"]=r),"onUpdate"===e&&(this._onUpdate=t)):delete i[e],this):i[e]},t.then=function(i){var n=this;return new Promise(function(t){function e(){var e=n.then;n.then=null,_isFunction(r)&&(r=r(n))&&(r.then||r===n)&&(n.then=e),t(r),n.then=e}var r=_isFunction(i)?i:_passThrough;n._initted&&1===n.totalProgress()&&0<=n._ts||!n._tTime&&n._ts<0?e():n._prom=e})},t.kill=function(){_interrupt(this)},e}(),Timeline=(_setDefaults(Animation.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-_tinyNum,_prom:0,_ps:!1,_rts:1}),function(i){function e(e,t){var r;return(r=i.call(this,e=void 0===e?{}:e)||this).labels={},r.smoothChildTiming=!!e.smoothChildTiming,r.autoRemoveChildren=!!e.autoRemoveChildren,r._sort=_isNotFalse(e.sortChildren),_globalTimeline&&_addToTimeline(e.parent||_globalTimeline,_assertThisInitialized(r),t),e.reversed&&r.reverse(),e.paused&&r.paused(!0),e.scrollTrigger&&_scrollTrigger(_assertThisInitialized(r),e.scrollTrigger),r}_inheritsLoose(e,i);var t=e.prototype;return t.to=function(e,t,r){return _createTweenType(0,arguments,this),this},t.from=function(e,t,r){return _createTweenType(1,arguments,this),this},t.fromTo=function(e,t,r,i){return _createTweenType(2,arguments,this),this},t.set=function(e,t,r){return t.duration=0,t.parent=this,_inheritDefaults(t).repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Tween(e,t,_parsePosition(this,r),1),this},t.call=function(e,t,r){return _addToTimeline(this,Tween.delayedCall(0,e,t),r)},t.staggerTo=function(e,t,r,i,n,a,s){return r.duration=t,r.stagger=r.stagger||i,r.onComplete=a,r.onCompleteParams=s,r.parent=this,new Tween(e,r,_parsePosition(this,n)),this},t.staggerFrom=function(e,t,r,i,n,a,s){return r.runBackwards=1,_inheritDefaults(r).immediateRender=_isNotFalse(r.immediateRender),this.staggerTo(e,t,r,i,n,a,s)},t.staggerFromTo=function(e,t,r,i,n,a,s,o){return i.startAt=r,_inheritDefaults(i).immediateRender=_isNotFalse(i.immediateRender),this.staggerTo(e,t,i,n,a,s,o)},t.render=function(e,t,r){var i,n,a,s,o,l,c,u,_,d,p=this._time,f=this._dirty?this.totalDuration():this._tDur,h=this._dur,m=e<=0?0:_roundPrecise(e),g=this._zTime<0!=e<0&&(this._initted||!h);if((m=this!==_globalTimeline&&f<m&&0<=e?f:m)!==this._tTime||r||g){if(p!==this._time&&h&&(m+=this._time-p,e+=this._time-p),i=m,u=this._start,o=!(c=this._ts),g&&(h||(p=this._zTime),!e&&t||(this._zTime=e)),this._repeat){if(g=this._yoyo,s=h+this._rDelay,this._repeat<-1&&e<0)return this.totalTime(100*s+e,t,r);if(i=_roundPrecise(m%s),m===f?(a=this._repeat,i=h):((a=~~(m/s))&&a===m/s&&(i=h,a--),h<i&&(i=h)),_=_animationCycle(this._tTime,s),g&&1&a&&(i=h-i,d=1),a!==(_=!p&&this._tTime&&_!==a&&this._tTime-_*s-this._dur<=0?a:_)&&!this._lock){var y=g&&1&_,g=y===(g&&1&a),p=(y=a<_?!y:y)?0:m%h?h:m;if(this._lock=1,this.render(p||(d?0:_roundPrecise(a*s)),t,!h)._lock=0,this._tTime=m,!t&&this.parent&&_callback(this,"onRepeat"),this.vars.repeatRefresh&&!d&&(this.invalidate()._lock=1),p&&p!==this._time||o!=!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,f=this._tDur,g&&(this._lock=2,this.render(p=y?h:-1e-4,!0),this.vars.repeatRefresh)&&!d&&this.invalidate(),this._lock=0,!this._ts&&!o)return this;_propagateYoyoEase(this,d)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(l=_findNextPauseTween(this,_roundPrecise(p),_roundPrecise(i)))&&(m-=i-(i=l._start)),this._tTime=m,this._time=i,this._act=!c,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=e,p=0),!p&&i&&!t&&!a&&(_callback(this,"onStart"),this._tTime!==m))return this;if(p<=i&&0<=e)for(v=this._first;v;){if(n=v._next,(v._act||i>=v._start)&&v._ts&&l!==v){if(v.parent!==this)return this.render(e,t,r);if(v.render(0<v._ts?(i-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(i-v._start)*v._ts,t,r),i!==this._time||!this._ts&&!o){l=0,n&&(m+=this._zTime=-_tinyNum);break}}v=n}else for(var v=this._last,w=e<0?e:i;v;){if(n=v._prev,(v._act||w<=v._end)&&v._ts&&l!==v){if(v.parent!==this)return this.render(e,t,r);if(v.render(0<v._ts?(w-v._start)*v._ts:(v._dirty?v.totalDuration():v._tDur)+(w-v._start)*v._ts,t,r||_reverting&&(v._initted||v._startAt)),i!==this._time||!this._ts&&!o){l=0,n&&(m+=this._zTime=w?-_tinyNum:_tinyNum);break}}v=n}if(l&&!t&&(this.pause(),l.render(p<=i?0:-_tinyNum)._zTime=p<=i?1:-1,this._ts))return this._start=u,_setEnd(this),this.render(e,t,r);this._onUpdate&&!t&&_callback(this,"onUpdate",!0),!(m===f&&this._tTime>=this.totalDuration()||!m&&p)||u!==this._start&&Math.abs(c)===Math.abs(this._ts)||this._lock||(!e&&h||!(m===f&&0<this._ts||!m&&this._ts<0)||_removeFromParent(this,1),t)||e<0&&!p||!m&&!p&&f||(_callback(this,m===f&&0<=e?"onComplete":"onReverseComplete",!0),!this._prom)||m<f&&0<this.timeScale()||this._prom()}return this},t.add=function(e,t){var r=this;if(_isNumber(t)||(t=_parsePosition(this,t,e)),!(e instanceof Animation)){if(_isArray(e))return e.forEach(function(e){return r.add(e,t)}),this;if(_isString(e))return this.addLabel(e,t);if(!_isFunction(e))return this;e=Tween.delayedCall(0,e)}return this!==e?_addToTimeline(this,e,t):this},t.getChildren=function(e,t,r,i){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===r&&(r=!0),void 0===i&&(i=-_bigNum);for(var n=[],a=this._first;a;)a._start>=i&&(a instanceof Tween?t&&n.push(a):(r&&n.push(a),e&&n.push.apply(n,a.getChildren(!0,t,r)))),a=a._next;return n},t.getById=function(e){for(var t=this.getChildren(1,1,1),r=t.length;r--;)if(t[r].vars.id===e)return t[r]},t.remove=function(e){return _isString(e)?this.removeLabel(e):_isFunction(e)?this.killTweensOf(e):(_removeLinkedListItem(this,e),e===this._recent&&(this._recent=this._last),_uncache(this))},t.totalTime=function(e,t){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=_roundPrecise(_ticker.time-(0<this._ts?e/this._ts:(this.totalDuration()-e)/-this._ts))),i.prototype.totalTime.call(this,e,t),this._forcing=0,this):this._tTime},t.addLabel=function(e,t){return this.labels[e]=_parsePosition(this,t),this},t.removeLabel=function(e){return delete this.labels[e],this},t.addPause=function(e,t,r){t=Tween.delayedCall(0,t||_emptyFunc,r);return t.data="isPause",this._hasPause=1,_addToTimeline(this,t,_parsePosition(this,e))},t.removePause=function(e){var t=this._first;for(e=_parsePosition(this,e);t;)t._start===e&&"isPause"===t.data&&_removeFromParent(t),t=t._next},t.killTweensOf=function(e,t,r){for(var i=this.getTweensOf(e,r),n=i.length;n--;)_overwritingTween!==i[n]&&i[n].kill(e,t);return this},t.getTweensOf=function(e,t){for(var r,i=[],n=toArray(e),a=this._first,s=_isNumber(t);a;)a instanceof Tween?_arrayContainsAny(a._targets,n)&&(s?(!_overwritingTween||a._initted&&a._ts)&&a.globalTime(0)<=t&&a.globalTime(a.totalDuration())>t:!t||a.isActive())&&i.push(a):(r=a.getTweensOf(n,t)).length&&i.push.apply(i,r),a=a._next;return i},t.tweenTo=function(e,t){t=t||{};var r,i=this,n=_parsePosition(i,e),e=t,a=e.startAt,s=e.onStart,o=e.onStartParams,e=e.immediateRender,l=Tween.to(i,_setDefaults({ease:t.ease||"none",lazy:!1,immediateRender:!1,time:n,overwrite:"auto",duration:t.duration||Math.abs((n-(a&&"time"in a?a.time:i._time))/i.timeScale())||_tinyNum,onStart:function(){var e;i.pause(),r||(e=t.duration||Math.abs((n-(a&&"time"in a?a.time:i._time))/i.timeScale()),l._dur!==e&&_setDuration(l,e,0,1).render(l._time,!0,!0),r=1),s&&s.apply(l,o||[])}},t));return e?l.render(0):l},t.tweenFromTo=function(e,t,r){return this.tweenTo(t,_setDefaults({startAt:{time:_parsePosition(this,e)}},r))},t.recent=function(){return this._recent},t.nextLabel=function(e){return void 0===e&&(e=this._time),_getLabelInDirection(this,_parsePosition(this,e))},t.previousLabel=function(e){return void 0===e&&(e=this._time),_getLabelInDirection(this,_parsePosition(this,e),1)},t.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+_tinyNum)},t.shiftChildren=function(e,t,r){void 0===r&&(r=0);for(var i,n=this._first,a=this.labels;n;)n._start>=r&&(n._start+=e,n._end+=e),n=n._next;if(t)for(i in a)a[i]>=r&&(a[i]+=e);return _uncache(this)},t.invalidate=function(e){var t=this._first;for(this._lock=0;t;)t.invalidate(e),t=t._next;return i.prototype.invalidate.call(this,e)},t.clear=function(e){void 0===e&&(e=!0);for(var t,r=this._first;r;)t=r._next,this.remove(r),r=t;return this._dp&&(this._time=this._tTime=this._pTime=0),e&&(this.labels={}),_uncache(this)},t.totalDuration=function(e){var t,r,i,n=0,a=this,s=a._last,o=_bigNum;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-e:e));if(a._dirty){for(i=a.parent;s;)t=s._prev,s._dirty&&s.totalDuration(),o<(r=s._start)&&a._sort&&s._ts&&!a._lock?(a._lock=1,_addToTimeline(a,s,r-s._delay,1)._lock=0):o=r,r<0&&s._ts&&(n-=r,(!i&&!a._dp||i&&i.smoothChildTiming)&&(a._start+=r/a._ts,a._time-=r,a._tTime-=r),a.shiftChildren(-r,!1,-1/0),o=0),s._end>n&&s._ts&&(n=s._end),s=t;_setDuration(a,a===_globalTimeline&&a._time>n?a._time:n,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(e){if(_globalTimeline._ts&&(_lazySafeRender(_globalTimeline,_parentToChildTotalTime(e,_globalTimeline)),_lastRenderedFrame=_ticker.frame),_ticker.frame>=_nextGCFrame){_nextGCFrame+=_config.autoSleep||120;var t=_globalTimeline._first;if((!t||!t._ts)&&_config.autoSleep&&_ticker._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||_ticker.sleep()}}},e}(Animation)),_addComplexStringPropTween=(_setDefaults(Timeline.prototype,{_lock:0,_hasPause:0,_forcing:0}),function(e,t,r,i,n,a,s){var o,l,c,u,_,d=new PropTween(this._pt,e,t,0,1,_renderComplexString,null,n),p=0,f=0;for(d.b=r,d.e=i,r+="",(n=~(i+="").indexOf("random("))&&(i=_replaceRandom(i)),a&&(a(a=[r,i],e,t),r=a[0],i=a[1]),o=r.match(_complexStringNumExp)||[];u=_complexStringNumExp.exec(i);)c=u[0],u=i.substring(p,u.index),l?l=(l+1)%5:"rgba("===u.substr(-5)&&(l=1),c!==o[f++]&&(_=parseFloat(o[f-1])||0,d._pt={_next:d._pt,p:u||1===f?u:",",s:_,c:"="===c.charAt(1)?_parseRelative(_,c)-_:parseFloat(c)-_,m:l&&l<4?Math.round:0},p=_complexStringNumExp.lastIndex);return d.c=p<i.length?i.substring(p,i.length):"",d.fp=s,(_relExp.test(i)||n)&&(d.e=0),this._pt=d}),_addPropTween=function(e,t,r,i,n,a,s,o,l,c){_isFunction(i)&&(i=i(n||0,e,a));var u,n=e[t],a="get"!==r?r:_isFunction(n)?l?e[t.indexOf("set")||!_isFunction(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():n,r=_isFunction(n)?l?_setterFuncWithParam:_setterFunc:_setterPlain;if(!_isString(i)||"="!==(i=~i.indexOf("random(")?_replaceRandom(i):i).charAt(1)||!(u=_parseRelative(a,i)+(getUnit(a)||0))&&0!==u||(i=u),!c||a!==i||_forceAllPropTweens)return isNaN(a*i)||""===i?(n||t in e||_missingPlugin(t,i),_addComplexStringPropTween.call(this,e,t,a,i,r,o||_config.stringFilter,l)):(u=new PropTween(this._pt,e,t,+a||0,i-(a||0),"boolean"==typeof n?_renderBoolean:_renderPlain,0,r),l&&(u.fp=l),s&&u.modifier(s,this,e),this._pt=u)},_processVars=function(e,t,r,i,n){if(_isFunction(e)&&(e=_parseFuncOrString(e,n,t,r,i)),!_isObject(e)||e.style&&e.nodeType||_isArray(e)||_isTypedArray(e))return _isString(e)?_parseFuncOrString(e,n,t,r,i):e;var a,s={};for(a in e)s[a]=_parseFuncOrString(e[a],n,t,r,i);return s},_checkPlugin=function(e,t,r,i,n,a){var s,o,l,c;if(_plugins[e]&&!1!==(s=new _plugins[e]).init(n,s.rawVars?t[e]:_processVars(t[e],i,n,a,r),r,i,a)&&(r._pt=o=new PropTween(r._pt,n,e,0,1,s.render,s,0,s.priority),r!==_quickTween))for(l=r._ptLookup[r._targets.indexOf(n)],c=s._props.length;c--;)l[s._props[c]]=o;return s},_overwritingTween,_forceAllPropTweens,_initTween=function e(t,r,i){var n,a,s,o,l,c,u,_,d,p,f,h,m,g=t.vars,y=g.ease,v=g.startAt,w=g.immediateRender,T=g.lazy,b=g.onUpdate,S=g.onUpdateParams,P=g.callbackScope,x=g.runBackwards,C=g.yoyoEase,E=g.keyframes,k=g.autoRevert,A=t._dur,M=t._startAt,I=t._targets,L=t.parent,D=L&&"nested"===L.data?L.vars.targets:I,O="auto"===t._overwrite&&!_suppressOverwrites,B=t.timeline;if(t._ease=_parseEase(y=!B||E&&y?y:"none",_defaults.ease),t._yEase=C?_invertEase(_parseEase(!0===C?y:C,_defaults.ease)):0,C&&t._yoyo&&!t._repeat&&(C=t._yEase,t._yEase=t._ease,t._ease=C),t._from=!B&&!!g.runBackwards,!B||E&&!g.stagger){if(h=(_=I[0]?_getCache(I[0]).harness:0)&&g[_.prop],n=_copyExcluding(g,_reservedProps),M&&(M._zTime<0&&M.progress(1),r<0&&x&&w&&!k?M.render(-1,!0):M.revert(x&&A?_revertConfigNoKill:_startAtRevertConfig),M._lazy=0),v){if(_removeFromParent(t._startAt=Tween.set(I,_setDefaults({data:"isStart",overwrite:!1,parent:L,immediateRender:!0,lazy:!M&&_isNotFalse(T),startAt:null,delay:0,onUpdate:b,onUpdateParams:S,callbackScope:P,stagger:0},v))),t._startAt._dp=0,t._startAt._sat=t,r<0&&(_reverting||!w&&!k)&&t._startAt.revert(_revertConfigNoKill),w&&A&&r<=0&&i<=0)return void(r&&(t._zTime=r))}else if(x&&A&&!M)if(s=_setDefaults({overwrite:!1,data:"isFromStart",lazy:(w=r?!1:w)&&!M&&_isNotFalse(T),immediateRender:w,stagger:0,parent:L},n),h&&(s[_.prop]=h),_removeFromParent(t._startAt=Tween.set(I,s)),t._startAt._dp=0,t._startAt._sat=t,r<0&&(_reverting?t._startAt.revert(_revertConfigNoKill):t._startAt.render(-1,!0)),t._zTime=r,w){if(!r)return}else e(t._startAt,_tinyNum,_tinyNum);for(t._pt=t._ptCache=0,T=A&&_isNotFalse(T)||T&&!A,a=0;a<I.length;a++){if(u=(l=I[a])._gsap||_harness(I)[a]._gsap,t._ptLookup[a]=p={},_lazyLookup[u.id]&&_lazyTweens.length&&_lazyRender(),f=D===I?a:D.indexOf(l),_&&!1!==(d=new _).init(l,h||n,t,f,D)&&(t._pt=o=new PropTween(t._pt,l,d.name,0,1,d.render,d,0,d.priority),d._props.forEach(function(e){p[e]=o}),d.priority)&&(c=1),!_||h)for(s in n)_plugins[s]&&(d=_checkPlugin(s,n,t,f,l,D))?d.priority&&(c=1):p[s]=o=_addPropTween.call(t,l,s,"get",n[s],f,D,0,g.stringFilter);t._op&&t._op[a]&&t.kill(l,t._op[a]),O&&t._pt&&(_overwritingTween=t,_globalTimeline.killTweensOf(l,p,t.globalTime(r)),m=!t.parent,_overwritingTween=0),t._pt&&T&&(_lazyLookup[u.id]=1)}c&&_sortPropTweensByPriority(t),t._onInit&&t._onInit(t)}t._onUpdate=b,t._initted=(!t._op||t._pt)&&!m,E&&r<=0&&B.render(_bigNum,!0,!0)},_updatePropTweens=function(e,t,r,i,n,a,s){var o,l,c,u,_=(e._pt&&e._ptCache||(e._ptCache={}))[t];if(!_)for(_=e._ptCache[t]=[],c=e._ptLookup,u=e._targets.length;u--;){if((o=c[u][t])&&o.d&&o.d._pt)for(o=o.d._pt;o&&o.p!==t&&o.fp!==t;)o=o._next;if(!o)return _forceAllPropTweens=1,e.vars[t]="+=0",_initTween(e,s),_forceAllPropTweens=0,1;_.push(o)}for(u=_.length;u--;)(o=(l=_[u])._pt||l).s=!i&&0!==i||n?o.s+(i||0)+a*o.c:i,o.c=r-o.s,l.e&&(l.e=_round(r)+getUnit(l.e)),l.b&&(l.b=o.s+getUnit(l.b))},_addAliasesToVars=function(e,t){var r,i,n,a,e=e[0]?_getCache(e[0]).harness:0,s=e&&e.aliases;if(!s)return t;for(i in r=_merge({},t),s)if(i in r)for(n=(a=s[i].split(",")).length;n--;)r[a[n]]=r[i];return r},_parseKeyframe=function(e,r,t,i){var n,a,s=r.ease||i||"power1.inOut";if(_isArray(r))a=t[e]||(t[e]=[]),r.forEach(function(e,t){return a.push({t:t/(r.length-1)*100,v:e,e:s})});else for(n in r)a=t[n]||(t[n]=[]),"ease"!==n&&a.push({t:parseFloat(e),v:r[n],e:s})},_parseFuncOrString=function(e,t,r,i,n){return _isFunction(e)?e.call(t,r,i,n):_isString(e)&&~e.indexOf("random(")?_replaceRandom(e):e},_staggerTweenProps=_callbackNames+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",_staggerPropsToSkip={},Tween=(_forEachName(_staggerTweenProps+",id,stagger,delay,duration,paused,scrollTrigger",function(e){return _staggerPropsToSkip[e]=1}),function(E){function n(e,t,r,i){"number"==typeof t&&(r.duration=t,t=r,r=null);var n,a,s,o,l,c,u,_,d,i=(n=E.call(this,i?t:_inheritDefaults(t))||this).vars,p=i.duration,f=i.delay,h=i.immediateRender,m=i.stagger,g=i.overwrite,y=i.keyframes,v=i.defaults,w=i.scrollTrigger,T=i.yoyoEase,i=t.parent||_globalTimeline,b=(_isArray(e)||_isTypedArray(e)?_isNumber(e[0]):"length"in t)?[e]:toArray(e);if(n._targets=b.length?_harness(b):_warn("GSAP target "+e+" not found. https://greensock.com",!_config.nullTargetWarn)||[],n._ptLookup=[],n._overwrite=g,y||m||_isFuncOrString(p)||_isFuncOrString(f)){if(t=n.vars,(a=n.timeline=new Timeline({data:"nested",defaults:v||{},targets:i&&"nested"===i.data?i.vars.targets:b})).kill(),a.parent=a._dp=_assertThisInitialized(n),a._start=0,m||_isFuncOrString(p)||_isFuncOrString(f)){if(l=b.length,_=m&&distribute(m),_isObject(m))for(c in m)~_staggerTweenProps.indexOf(c)&&((d=d||{})[c]=m[c]);for(s=0;s<l;s++)(o=_copyExcluding(t,_staggerPropsToSkip)).stagger=0,T&&(o.yoyoEase=T),d&&_merge(o,d),u=b[s],o.duration=+_parseFuncOrString(p,_assertThisInitialized(n),s,u,b),o.delay=(+_parseFuncOrString(f,_assertThisInitialized(n),s,u,b)||0)-n._delay,!m&&1===l&&o.delay&&(n._delay=f=o.delay,n._start+=f,o.delay=0),a.to(u,o,_?_(s,u,b):0),a._ease=_easeMap.none;a.duration()?p=f=0:n.timeline=0}else if(y){_inheritDefaults(_setDefaults(a.vars.defaults,{ease:"none"})),a._ease=_parseEase(y.ease||t.ease||"none");var S,P,x,C=0;if(_isArray(y))y.forEach(function(e){return a.to(b,e,">")}),a.duration();else{for(c in o={},y)"ease"!==c&&"easeEach"!==c&&_parseKeyframe(c,y[c],o,y.easeEach);for(c in o)for(S=o[c].sort(function(e,t){return e.t-t.t}),s=C=0;s<S.length;s++)(x={ease:(P=S[s]).e,duration:(P.t-(s?S[s-1].t:0))/100*p})[c]=P.v,a.to(b,x,C),C+=x.duration;a.duration()<p&&a.to({},{duration:p-a.duration()})}}p||n.duration(p=a.duration())}else n.timeline=0;return!0!==g||_suppressOverwrites||(_overwritingTween=_assertThisInitialized(n),_globalTimeline.killTweensOf(b),_overwritingTween=0),_addToTimeline(i,_assertThisInitialized(n),r),t.reversed&&n.reverse(),t.paused&&n.paused(!0),(h||!p&&!y&&n._start===_roundPrecise(i._time)&&_isNotFalse(h)&&_hasNoPausedAncestors(_assertThisInitialized(n))&&"nested"!==i.data)&&(n._tTime=-_tinyNum,n.render(Math.max(0,-f)||0)),w&&_scrollTrigger(_assertThisInitialized(n),w),n}_inheritsLoose(n,E);var e=n.prototype;return e.render=function(e,t,r){var i,n,a,s,o,l,c,u,_,d=this._time,p=this._tDur,f=this._dur,h=e<0,m=p-_tinyNum<e&&!h?p:e<_tinyNum?0:e;if(f){if(m!==this._tTime||!e||r||!this._initted&&this._tTime||this._startAt&&this._zTime<0!=h){if(i=m,u=this.timeline,this._repeat){if(s=f+this._rDelay,this._repeat<-1&&h)return this.totalTime(100*s+e,t,r);if(i=_roundPrecise(m%s),m===p?(a=this._repeat,i=f):((a=~~(m/s))&&a===m/s&&(i=f,a--),f<i&&(i=f)),(l=this._yoyo&&1&a)&&(_=this._yEase,i=f-i),o=_animationCycle(this._tTime,s),i===d&&!r&&this._initted)return this._tTime=m,this;a!==o&&(u&&this._yEase&&_propagateYoyoEase(u,l),!this.vars.repeatRefresh||l||this._lock||(this._lock=r=1,this.render(_roundPrecise(s*a),!0).invalidate()._lock=0))}if(!this._initted){if(_attemptInitTween(this,h?e:i,r,t,m))return this._tTime=0,this;if(d!==this._time)return this;if(f!==this._dur)return this.render(e,t,r)}if(this._tTime=m,this._time=i,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=c=(_||this._ease)(i/f),this._from&&(this.ratio=c=1-c),i&&!d&&!t&&!a&&(_callback(this,"onStart"),this._tTime!==m))return this;for(n=this._pt;n;)n.r(c,n.d),n=n._next;u&&u.render(e<0?e:!i&&l?-_tinyNum:u._dur*u._ease(i/this._dur),t,r)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(h&&_rewindStartAt(this,e,t,r),_callback(this,"onUpdate")),this._repeat&&a!==o&&this.vars.onRepeat&&!t&&this.parent&&_callback(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(h&&!this._onUpdate&&_rewindStartAt(this,e,!0,!0),!e&&f||!(m===this._tDur&&0<this._ts||!m&&this._ts<0)||_removeFromParent(this,1),t)||h&&!d||!(m||d||l)||(_callback(this,m===p?"onComplete":"onReverseComplete",!0),!this._prom)||m<p&&0<this.timeScale()||this._prom()}}else _renderZeroDurationTween(this,e,t,r);return this},e.targets=function(){return this._targets},e.invalidate=function(e){return e&&this.vars.runBackwards||(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(e),E.prototype.invalidate.call(this,e)},e.resetTo=function(e,t,r,i){_tickerActive||_ticker.wake(),this._ts||this.play();var n,a=Math.min(this._dur,(this._dp._time-this._start)*this._ts);return this._initted||_initTween(this,a),n=this._ease(a/this._dur),_updatePropTweens(this,e,t,r,i,n,a)?this.resetTo(e,t,r,i):(_alignPlayhead(this,0),this.parent||_addLinkedListItem(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},e.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t))return this._lazy=this._pt=0,this.parent?_interrupt(this):this;if(this.timeline)d=this.timeline.totalDuration(),this.timeline.killTweensOf(e,t,_overwritingTween&&!0!==_overwritingTween.vars.overwrite)._first||_interrupt(this),this.parent&&d!==this.timeline.totalDuration()&&_setDuration(this,this._dur*this.timeline._tDur/d,0,1);else{var r,i,n,a,s,o,l,c=this._targets,u=e?toArray(e):c,_=this._ptLookup,d=this._pt;if((!t||"all"===t)&&_arraysMatch(c,u))return"all"===t&&(this._pt=0),_interrupt(this);for(r=this._op=this._op||[],"all"!==t&&(_isString(t)&&(s={},_forEachName(t,function(e){return s[e]=1}),t=s),t=_addAliasesToVars(c,t)),l=c.length;l--;)if(~u.indexOf(c[l]))for(s in i=_[l],"all"===t?(r[l]=t,a=i,n={}):(n=r[l]=r[l]||{},a=t),a)(o=i&&i[s])&&("kill"in o.d&&!0!==o.d.kill(s)||_removeLinkedListItem(this,o,"_pt"),delete i[s]),"all"!==n&&(n[s]=1);this._initted&&!this._pt&&d&&_interrupt(this)}return this},n.to=function(e,t){return new n(e,t,arguments[2])},n.from=function(e,t){return _createTweenType(1,arguments)},n.delayedCall=function(e,t,r,i){return new n(t,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:t,onReverseComplete:t,onCompleteParams:r,onReverseCompleteParams:r,callbackScope:i})},n.fromTo=function(e,t,r){return _createTweenType(2,arguments)},n.set=function(e,t){return t.duration=0,t.repeatDelay||(t.repeat=0),new n(e,t)},n.killTweensOf=function(e,t,r){return _globalTimeline.killTweensOf(e,t,r)},n}(Animation)),_setterPlain=(_setDefaults(Tween.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),_forEachName("staggerTo,staggerFrom,staggerFromTo",function(r){Tween[r]=function(){var e=new Timeline,t=_slice.call(arguments,0);return t.splice("staggerFromTo"===r?5:4,0,0),e[r].apply(e,t)}}),function(e,t,r){return e[t]=r}),_setterFunc=function(e,t,r){return e[t](r)},_setterFuncWithParam=function(e,t,r,i){return e[t](i.fp,r)},_setterAttribute=function(e,t,r){return e.setAttribute(t,r)},_getSetter=function(e,t){return _isFunction(e[t])?_setterFunc:_isUndefined(e[t])&&e.setAttribute?_setterAttribute:_setterPlain},_renderPlain=function(e,t){return t.set(t.t,t.p,Math.round(1e6*(t.s+t.c*e))/1e6,t)},_renderBoolean=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},_renderComplexString=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(1===e&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round(1e4*(r.s+r.c*e))/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},_renderPropTweens=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},_addPluginModifier=function(e,t,r,i){for(var n,a=this._pt;a;)n=a._next,a.p===i&&a.modifier(e,t,r),a=n},_killPropTweensOf=function(e){for(var t,r,i=this._pt;i;)r=i._next,i.p===e&&!i.op||i.op===e?_removeLinkedListItem(this,i,"_pt"):i.dep||(t=1),i=r;return!t},_setterWithModifier=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},_sortPropTweensByPriority=function(e){for(var t,r,i,n,a=e._pt;a;){for(t=a._next,r=i;r&&r.pr>a.pr;)r=r._next;(a._prev=r?r._prev:n)?a._prev._next=a:i=a,(a._next=r)?r._prev=a:n=a,a=t}e._pt=i},PropTween=function(){function e(e,t,r,i,n,a,s,o,l){this.t=t,this.s=i,this.c=n,this.p=r,this.r=a||_renderPlain,this.d=s||this,this.set=o||_setterPlain,this.pr=l||0,(this._next=e)&&(e._prev=this)}return e.prototype.modifier=function(e,t,r){this.mSet=this.mSet||this.set,this.set=_setterWithModifier,this.m=e,this.mt=r,this.tween=t},e}(),_media=(_forEachName(_callbackNames+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(e){return _reservedProps[e]=1}),_globals.TweenMax=_globals.TweenLite=Tween,_globals.TimelineLite=_globals.TimelineMax=Timeline,_globalTimeline=new Timeline({sortChildren:!1,defaults:_defaults,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0}),_config.stringFilter=_colorStringFilter,[]),_listeners={},_emptyArray=[],_lastMediaTime=0,_contextID=0,_dispatch=function(e){return(_listeners[e]||_emptyArray).map(function(e){return e()})},_onMediaChange=function(){var e=Date.now(),o=[];2<e-_lastMediaTime&&(_dispatch("matchMediaInit"),_media.forEach(function(e){var t,r,i,n,a=e.queries,s=e.conditions;for(r in a)(t=_win.matchMedia(a[r]).matches)&&(i=1),t!==s[r]&&(s[r]=t,n=1);n&&(e.revert(),i)&&o.push(e)}),_dispatch("matchMediaRevert"),o.forEach(function(e){return e.onMatch(e)}),_lastMediaTime=e,_dispatch("matchMedia"))},Context=function(){function r(e,t){this.selector=t&&selector(t),this.data=[],this._r=[],this.isReverted=!1,this.id=_contextID++,e&&this.add(e)}var e=r.prototype;return e.add=function(e,i,n){_isFunction(e)&&(n=i,i=e,e=_isFunction);function t(){var e,t=_context,r=a.selector;return t&&t!==a&&t.data.push(a),n&&(a.selector=selector(n)),_context=a,e=i.apply(a,arguments),_isFunction(e)&&a._r.push(e),_context=t,a.selector=r,a.isReverted=!1,e}var a=this;return a.last=t,e===_isFunction?t(a):e?a[e]=t:t},e.ignore=function(e){var t=_context;_context=null,e(this),_context=t},e.getTweens=function(){var t=[];return this.data.forEach(function(e){return e instanceof r?t.push.apply(t,e.getTweens()):e instanceof Tween&&!(e.parent&&"nested"===e.parent.data)&&t.push(e)}),t},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(t,e){var r,i=this;if(t?(r=this.getTweens(),this.data.forEach(function(e){"isFlip"===e.data&&(e.revert(),e.getChildren(!0,!0,!1).forEach(function(e){return r.splice(r.indexOf(e),1)}))}),r.map(function(e){return{g:e.globalTime(0),t:e}}).sort(function(e,t){return t.g-e.g||-1/0}).forEach(function(e){return e.t.revert(t)}),this.data.forEach(function(e){return!(e instanceof Tween)&&e.revert&&e.revert(t)}),this._r.forEach(function(e){return e(t,i)}),this.isReverted=!0):this.data.forEach(function(e){return e.kill&&e.kill()}),this.clear(),e)for(var n=_media.length;n--;)_media[n].id===this.id&&_media.splice(n,1)},e.revert=function(e){this.kill(e||{})},r}(),MatchMedia=function(){function e(e){this.contexts=[],this.scope=e}var t=e.prototype;return t.add=function(e,t,r){_isObject(e)||(e={matches:e});var i,n,a,s=new Context(0,r||this.scope),o=s.conditions={};for(n in _context&&!s.selector&&(s.selector=_context.selector),this.contexts.push(s),t=s.add("onMatch",t),s.queries=e)"all"===n?a=1:(i=_win.matchMedia(e[n]))&&(_media.indexOf(s)<0&&_media.push(s),(o[n]=i.matches)&&(a=1),i.addListener?i.addListener(_onMediaChange):i.addEventListener("change",_onMediaChange));return a&&t(s),this},t.revert=function(e){this.kill(e||{})},t.kill=function(t){this.contexts.forEach(function(e){return e.kill(t,!0)})},e}(),_gsap={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(e){return _createPlugin(e)})},timeline:function(e){return new Timeline(e)},getTweensOf:function(e,t){return _globalTimeline.getTweensOf(e,t)},getProperty:function(i,e,t,r){_isString(i)&&(i=toArray(i)[0]);var n=_getCache(i||{}).get,a=t?_passThrough:_numericIfPossible;return"native"===t&&(t=""),i&&(e?a((_plugins[e]&&_plugins[e].get||n)(i,e,t,r)):function(e,t,r){return a((_plugins[e]&&_plugins[e].get||n)(i,e,t,r))})},quickSetter:function(r,t,i){var n,a;if(1<(r=toArray(r)).length)return n=r.map(function(e){return gsap.quickSetter(e,t,i)}),a=n.length,function(e){for(var t=a;t--;)n[t](e)};r=r[0]||{};var s=_plugins[t],o=_getCache(r),l=o.harness&&(o.harness.aliases||{})[t]||t,c=s?function(e){var t=new s;_quickTween._pt=0,t.init(r,i?e+i:e,_quickTween,0,[r]),t.render(1,t),_quickTween._pt&&_renderPropTweens(1,_quickTween)}:o.set(r,l);return s?c:function(e){return c(r,l,i?e+i:e,o,1)}},quickTo:function(e,i,t){function r(e,t,r){return n.resetTo(i,e,t,r)}var n=gsap.to(e,_merge(((e={})[i]="+=0.1",e.paused=!0,e),t||{}));return r.tween=n,r},isTweening:function(e){return 0<_globalTimeline.getTweensOf(e,!0).length},defaults:function(e){return e&&e.ease&&(e.ease=_parseEase(e.ease,_defaults.ease)),_mergeDeep(_defaults,e||{})},config:function(e){return _mergeDeep(_config,e||{})},registerEffect:function(e){var i=e.name,n=e.effect,t=e.plugins,a=e.defaults,e=e.extendTimeline;(t||"").split(",").forEach(function(e){return e&&!_plugins[e]&&!_globals[e]&&_warn(i+" effect requires "+e+" plugin.")}),_effects[i]=function(e,t,r){return n(toArray(e),_setDefaults(t||{},a),r)},e&&(Timeline.prototype[i]=function(e,t,r){return this.add(_effects[i](e,_isObject(t)?t:(r=t)&&{},this),r)})},registerEase:function(e,t){_easeMap[e]=_parseEase(t)},parseEase:function(e,t){return arguments.length?_parseEase(e,t):_easeMap},getById:function(e){return _globalTimeline.getById(e)},exportRoot:function(e,t){var r,i,n=new Timeline(e=void 0===e?{}:e);for(n.smoothChildTiming=_isNotFalse(e.smoothChildTiming),_globalTimeline.remove(n),n._dp=0,n._time=n._tTime=_globalTimeline._time,r=_globalTimeline._first;r;)i=r._next,!t&&!r._dur&&r instanceof Tween&&r.vars.onComplete===r._targets[0]||_addToTimeline(n,r,r._start-r._delay),r=i;return _addToTimeline(_globalTimeline,n,0),n},context:function(e,t){return e?new Context(e,t):_context},matchMedia:function(e){return new MatchMedia(e)},matchMediaRefresh:function(){return _media.forEach(function(e){var t,r,i=e.conditions;for(r in i)i[r]&&(i[r]=!1,t=1);t&&e.revert()})||_onMediaChange()},addEventListener:function(e,t){e=_listeners[e]||(_listeners[e]=[]);~e.indexOf(t)||e.push(t)},removeEventListener:function(e,t){e=_listeners[e],t=e&&e.indexOf(t);0<=t&&e.splice(t,1)},utils:{wrap:wrap,wrapYoyo:wrapYoyo,distribute:distribute,random:random,snap:snap,normalize:normalize,getUnit:getUnit,clamp:clamp,splitColor:splitColor,toArray:toArray,selector:selector,mapRange:mapRange,pipe:pipe,unitize:unitize,interpolate:interpolate,shuffle:shuffle},install:_install,effects:_effects,ticker:_ticker,updateRoot:Timeline.updateRoot,plugins:_plugins,globalTimeline:_globalTimeline,core:{PropTween:PropTween,globals:_addGlobal,Tween:Tween,Timeline:Timeline,Animation:Animation,getCache:_getCache,_removeLinkedListItem:_removeLinkedListItem,reverting:function(){return _reverting},context:function(e){return e&&_context&&(_context.data.push(e),e._ctx=_context),_context},suppressOverwrites:function(e){return _suppressOverwrites=e}}},_getPluginPropTween=(_forEachName("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return _gsap[e]=Tween[e]}),_ticker.add(Timeline.updateRoot),_quickTween=_gsap.to({},{duration:0}),function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r}),_addModifiers=function(e,t){var r,i,n,a=e._targets;for(r in t)for(i=a.length;i--;)(n=(n=(n=e._ptLookup[i][r])&&n.d)&&(n._pt?_getPluginPropTween(n,r):n))&&n.modifier&&n.modifier(t[r],e,a[i],r)},_buildModifierPlugin=function(e,n){return{name:e,rawVars:1,init:function(e,i,t){t._onInit=function(e){var t,r;if(_isString(i)&&(t={},_forEachName(i,function(e){return t[e]=1}),i=t),n){for(r in t={},i)t[r]=n(i[r]);i=t}_addModifiers(e,i)}}}},gsap=_gsap.registerPlugin({name:"attr",init:function(e,t,r,i,n){var a,s,o;for(a in this.tween=r,t)o=e.getAttribute(a)||"",(s=this.add(e,"setAttribute",(o||0)+"",t[a],i,n,0,0,a)).op=a,s.b=o,this._props.push(a)},render:function(e,t){for(var r=t._pt;r;)_reverting?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},_buildModifierPlugin("roundProps",_roundModifier),_buildModifierPlugin("modifiers"),_buildModifierPlugin("snap",snap))||_gsap,Power0=(Tween.version=Timeline.version=gsap.version="3.12.2",_coreReady=1,_windowExists()&&_wake(),_easeMap.Power0),Power1=_easeMap.Power1,Power2=_easeMap.Power2,Power3=_easeMap.Power3,Power4=_easeMap.Power4,Linear=_easeMap.Linear,Quad=_easeMap.Quad,Cubic=_easeMap.Cubic,Quart=_easeMap.Quart,Quint=_easeMap.Quint,Strong=_easeMap.Strong,Elastic=_easeMap.Elastic,Back=_easeMap.Back,SteppedEase=_easeMap.SteppedEase,Bounce=_easeMap.Bounce,Sine=_easeMap.Sine,Expo=_easeMap.Expo,Circ=_easeMap.Circ,_win2,_doc2,_docElement,_pluginInitted,_tempDiv,_tempDivStyler,_recentSetterPlugin,_reverting2,_windowExists3=function(){return"undefined"!=typeof window},_transformProps={},_RAD2DEG=180/Math.PI,_DEG2RAD=Math.PI/180,_atan2=Math.atan2,_bigNum2=1e8,_capsExp=/([A-Z])/g,_horizontalExp=/(left|right|width|margin|padding|x)/i,_complexExp=/[\s,\(]\S/,_propertyAliases={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},_renderCSSProp=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},_renderPropWithEnd=function(e,t){return t.set(t.t,t.p,1===e?t.e:Math.round(1e4*(t.s+t.c*e))/1e4+t.u,t)},_renderCSSPropWithBeginning=function(e,t){return t.set(t.t,t.p,e?Math.round(1e4*(t.s+t.c*e))/1e4+t.u:t.b,t)},_renderRoundedCSSProp=function(e,t){e=t.s+t.c*e;t.set(t.t,t.p,~~(e+(e<0?-.5:.5))+t.u,t)},_renderNonTweeningValue=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},_renderNonTweeningValueOnlyAtEnd=function(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)},_setterCSSStyle=function(e,t,r){return e.style[t]=r},_setterCSSProp=function(e,t,r){return e.style.setProperty(t,r)},_setterTransform=function(e,t,r){return e._gsap[t]=r},_setterScale=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},_setterScaleWithRender=function(e,t,r,i,n){e=e._gsap;e.scaleX=e.scaleY=r,e.renderTransform(n,e)},_setterTransformWithRender=function(e,t,r,i,n){e=e._gsap;e[t]=r,e.renderTransform(n,e)},_transformProp="transform",_transformOriginProp=_transformProp+"Origin",_saveStyle=function t(e,r){var i=this,n=this.target,a=n.style;if(e in _transformProps&&a){if(this.tfm=this.tfm||{},"transform"===e)return _propertyAliases.transform.split(",").forEach(function(e){return t.call(i,e,r)});if(~(e=_propertyAliases[e]||e).indexOf(",")?e.split(",").forEach(function(e){return i.tfm[e]=_get(n,e)}):this.tfm[e]=n._gsap.x?n._gsap[e]:_get(n,e),0<=this.props.indexOf(_transformProp))return;n._gsap.svg&&(this.svgo=n.getAttribute("data-svg-origin"),this.props.push(_transformOriginProp,r,"")),e=_transformProp}(a||r)&&this.props.push(e,r,a[e])},_removeIndependentTransforms=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},_revertStyle=function(){for(var e,t=this.props,r=this.target,i=r.style,n=r._gsap,a=0;a<t.length;a+=3)t[a+1]?r[t[a]]=t[a+2]:t[a+2]?i[t[a]]=t[a+2]:i.removeProperty("--"===t[a].substr(0,2)?t[a]:t[a].replace(_capsExp,"-$1").toLowerCase());if(this.tfm){for(e in this.tfm)n[e]=this.tfm[e];n.svg&&(n.renderTransform(),r.setAttribute("data-svg-origin",this.svgo||"")),(a=_reverting2())&&a.isStart||i[_transformProp]||(_removeIndependentTransforms(i),n.uncache=1)}},_getStyleSaver=function(e,t){var r={target:e,props:[],revert:_revertStyle,save:_saveStyle};return e._gsap||gsap.core.getCache(e),t&&t.split(",").forEach(function(e){return r.save(e)}),r},_supports3D,_createElement=function(e,t){t=_doc2.createElementNS?_doc2.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):_doc2.createElement(e);return t.style?t:_doc2.createElement(e)},_getComputedProperty=function e(t,r,i){var n=getComputedStyle(t);return n[r]||n.getPropertyValue(r.replace(_capsExp,"-$1").toLowerCase())||n.getPropertyValue(r)||!i&&e(t,_checkPropPrefix(r)||r,1)||""},_prefixes="O,Moz,ms,Ms,Webkit".split(","),_checkPropPrefix=function(e,t,r){var i=(t||_tempDiv).style,n=5;if(e in i&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);n--&&!(_prefixes[n]+e in i););return n<0?null:(3===n?"ms":0<=n?_prefixes[n]:"")+e},_initCore=function(){_windowExists3()&&window.document&&(_win2=window,_doc2=_win2.document,_docElement=_doc2.documentElement,_tempDiv=_createElement("div")||{style:{}},_tempDivStyler=_createElement("div"),_transformProp=_checkPropPrefix(_transformProp),_transformOriginProp=_transformProp+"Origin",_tempDiv.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",_supports3D=!!_checkPropPrefix("perspective"),_reverting2=gsap.core.reverting,_pluginInitted=1)},_getBBoxHack=function e(t){var r,i=_createElement("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,a=this.nextSibling,s=this.style.cssText;if(_docElement.appendChild(i),i.appendChild(this),this.style.display="block",t)try{r=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=e}catch(e){}else this._gsapBBox&&(r=this._gsapBBox());return n&&(a?n.insertBefore(this,a):n.appendChild(this)),_docElement.removeChild(i),this.style.cssText=s,r},_getAttributeFallbacks=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},_getBBox=function(t){var r;try{r=t.getBBox()}catch(e){r=_getBBoxHack.call(t,!0)}return!(r=r&&(r.width||r.height)||t.getBBox===_getBBoxHack?r:_getBBoxHack.call(t,!0))||r.width||r.x||r.y?r:{x:+_getAttributeFallbacks(t,["x","cx","x1"])||0,y:+_getAttributeFallbacks(t,["y","cy","y1"])||0,width:0,height:0}},_isSVG=function(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!_getBBox(e))},_removeProperty=function(e,t){t&&(e=e.style,t in _transformProps&&t!==_transformOriginProp&&(t=_transformProp),e.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),e.removeProperty(t.replace(_capsExp,"-$1").toLowerCase())):e.removeAttribute(t))},_addNonTweeningPT=function(e,t,r,i,n,a){t=new PropTween(e._pt,t,r,0,1,a?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue);return(e._pt=t).b=i,t.e=n,e._props.push(r),t},_nonConvertibleUnits={deg:1,rad:1,turn:1},_nonStandardLayouts={grid:1,flex:1},_convertToUnit=function e(t,r,i,n){var a,s=parseFloat(i)||0,o=(i+"").trim().substr((s+"").length)||"px",l=_tempDiv.style,c=_horizontalExp.test(r),u="svg"===t.tagName.toLowerCase(),_=(u?"client":"offset")+(c?"Width":"Height"),d="px"===n,p="%"===n;return n===o||!s||_nonConvertibleUnits[n]||_nonConvertibleUnits[o]?s:("px"===o||d||(s=e(t,r,i,"px")),i=t.getCTM&&_isSVG(t),!p&&"%"!==o||!_transformProps[r]&&!~r.indexOf("adius")?(l[c?"width":"height"]=100+(d?o:n),r=~r.indexOf("adius")||"em"===n&&t.appendChild&&!u?t:t.parentNode,(n=(r=(r=i?(t.ownerSVGElement||{}).parentNode:r)&&r!==_doc2&&r.appendChild?r:_doc2.body)._gsap)&&p&&n.width&&c&&n.time===_ticker.time&&!n.uncache?_round(s/n.width*100):(!p&&"%"!==o||_nonStandardLayouts[_getComputedProperty(r,"display")]||(l.position=_getComputedProperty(t,"position")),r===t&&(l.position="static"),r.appendChild(_tempDiv),a=_tempDiv[_],r.removeChild(_tempDiv),l.position="absolute",c&&p&&((n=_getCache(r)).time=_ticker.time,n.width=r[_]),_round(d?a*s/100:a&&s?100/a*s:0))):(a=i?t.getBBox()[c?"width":"height"]:t[_],_round(p?s/a*100:s/100*a)))},_get=function(e,t,r,i){var n;return _pluginInitted||_initCore(),t in _propertyAliases&&"transform"!==t&&~(t=_propertyAliases[t]).indexOf(",")&&(t=t.split(",")[0]),_transformProps[t]&&"transform"!==t?(n=_parseTransform(e,i),n="transformOrigin"!==t?n[t]:n.svg?n.origin:_firstTwoOnly(_getComputedProperty(e,_transformOriginProp))+" "+n.zOrigin+"px"):(n=e.style[t])&&"auto"!==n&&!i&&!~(n+"").indexOf("calc(")||(n=_specialProps[t]&&_specialProps[t](e,t,r)||_getComputedProperty(e,t)||_getProperty(e,t)||("opacity"===t?1:0)),r&&!~(n+"").trim().indexOf(" ")?_convertToUnit(e,t,n,r)+r:n},_tweenComplexCSSString=function(e,t,r,i){r&&"none"!==r||((n=(a=_checkPropPrefix(t,e,1))&&_getComputedProperty(e,a,1))&&n!==r?(t=a,r=n):"borderColor"===t&&(r=_getComputedProperty(e,"borderTopColor")));var n,a,s,o,l,c,u,_,d,p,f=new PropTween(this._pt,e.style,t,0,1,_renderComplexString),h=0,m=0;if(f.b=r,f.e=i,r+="","auto"===(i+="")&&(e.style[t]=i,i=_getComputedProperty(e,t)||i,e.style[t]=r),_colorStringFilter(a=[r,i]),i=a[1],s=(r=a[0]).match(_numWithUnitExp)||[],(i.match(_numWithUnitExp)||[]).length){for(;_=_numWithUnitExp.exec(i);)d=_[0],_=i.substring(h,_.index),l?l=(l+1)%5:"rgba("!==_.substr(-5)&&"hsla("!==_.substr(-5)||(l=1),d!==(c=s[m++]||"")&&(o=parseFloat(c)||0,p=c.substr((o+"").length),"="===d.charAt(1)&&(d=_parseRelative(o,d)+p),u=parseFloat(d),d=d.substr((u+"").length),h=_numWithUnitExp.lastIndex-d.length,d||(d=d||_config.units[t]||p,h===i.length&&(i+=d,f.e+=d)),p!==d&&(o=_convertToUnit(e,t,c,d)||0),f._pt={_next:f._pt,p:_||1===m?_:",",s:o,c:u-o,m:l&&l<4||"zIndex"===t?Math.round:0});f.c=h<i.length?i.substring(h,i.length):""}else f.r="display"===t&&"none"===i?_renderNonTweeningValueOnlyAtEnd:_renderNonTweeningValue;return _relExp.test(i)&&(f.e=0),this._pt=f},_keywordToPercent={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},_convertKeywordsToPercentages=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return"top"!==r&&"bottom"!==r&&"left"!==i&&"right"!==i||(e=r,r=i,i=e),t[0]=_keywordToPercent[r]||r,t[1]=_keywordToPercent[i]||i,t.join(" ")},_renderClearProps=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r,i,n,a=t.t,s=a.style,o=t.u,t=a._gsap;if("all"===o||!0===o)s.cssText="",i=1;else for(n=(o=o.split(",")).length;-1<--n;)r=o[n],_transformProps[r]&&(i=1,r="transformOrigin"===r?_transformOriginProp:_transformProp),_removeProperty(a,r);i&&(_removeProperty(a,_transformProp),t)&&(t.svg&&a.removeAttribute("transform"),_parseTransform(a,1),t.uncache=1,_removeIndependentTransforms(s))}},_specialProps={clearProps:function(e,t,r,i,n){if("isFromStart"!==n.data)return(t=e._pt=new PropTween(e._pt,t,r,0,0,_renderClearProps)).u=i,t.pr=-10,t.tween=n,e._props.push(r),1}},_identity2DMatrix=[1,0,0,1,0,0],_rotationalProperties={},_isNullTransform=function(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e},_getComputedTransformMatrixAsArray=function(e){e=_getComputedProperty(e,_transformProp);return _isNullTransform(e)?_identity2DMatrix:e.substr(7).match(_numExp).map(_round)},_getMatrix=function(e,t){var r,i,n,a=e._gsap||_getCache(e),s=e.style,o=_getComputedTransformMatrixAsArray(e);return a.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(o=[(i=e.transform.baseVal.consolidate().matrix).a,i.b,i.c,i.d,i.e,i.f]).join(",")?_identity2DMatrix:o:(o!==_identity2DMatrix||e.offsetParent||e===_docElement||a.svg||(i=s.display,s.display="block",(a=e.parentNode)&&e.offsetParent||(n=1,r=e.nextElementSibling,_docElement.appendChild(e)),o=_getComputedTransformMatrixAsArray(e),i?s.display=i:_removeProperty(e,"display"),n&&(r?a.insertBefore(e,r):a?a.appendChild(e):_docElement.removeChild(e))),t&&6<o.length?[o[0],o[1],o[4],o[5],o[12],o[13]]:o)},_applySVGOrigin=function(e,t,r,i,n,a){var s,o=e._gsap,n=n||_getMatrix(e,!0),l=o.xOrigin||0,c=o.yOrigin||0,u=o.xOffset||0,_=o.yOffset||0,d=n[0],p=n[1],f=n[2],h=n[3],m=n[4],g=n[5],y=t.split(" "),v=parseFloat(y[0])||0,w=parseFloat(y[1])||0;r?n!==_identity2DMatrix&&(n=d*h-p*f)&&(s=v*(-p/n)+w*(d/n)-(d*g-p*m)/n,v=v*(h/n)+w*(-f/n)+(f*g-h*m)/n,w=s):(v=(n=_getBBox(e)).x+(~y[0].indexOf("%")?v/100*n.width:v),w=n.y+(~(y[1]||y[0]).indexOf("%")?w/100*n.height:w)),i||!1!==i&&o.smooth?(o.xOffset=u+((m=v-l)*d+(g=w-c)*f)-m,o.yOffset=_+(m*p+g*h)-g):o.xOffset=o.yOffset=0,o.xOrigin=v,o.yOrigin=w,o.smooth=!!i,o.origin=t,o.originIsAbsolute=!!r,e.style[_transformOriginProp]="0px 0px",a&&(_addNonTweeningPT(a,o,"xOrigin",l,v),_addNonTweeningPT(a,o,"yOrigin",c,w),_addNonTweeningPT(a,o,"xOffset",u,o.xOffset),_addNonTweeningPT(a,o,"yOffset",_,o.yOffset)),e.setAttribute("data-svg-origin",v+" "+w)},_parseTransform=function(e,t){var r,i,n,a,s,o,l,c,u,_,d,p,f,h,m,g,y,v,w,T,b,S,P,x,C,E,k,A,M,I,L,D,O=e._gsap||new GSCache(e);return"x"in O&&!t&&!O.uncache||(r=e.style,i=O.scaleX<0,n="deg",f=getComputedStyle(e),a=_getComputedProperty(e,_transformOriginProp)||"0",L=s=o=c=u=_=d=p=0,D=l=1,O.svg=!(!e.getCTM||!_isSVG(e)),f.translate&&("none"===f.translate&&"none"===f.scale&&"none"===f.rotate||(r[_transformProp]=("none"!==f.translate?"translate3d("+(f.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+("none"!==f.rotate?"rotate("+f.rotate+") ":"")+("none"!==f.scale?"scale("+f.scale.split(" ").join(",")+") ":"")+("none"!==f[_transformProp]?f[_transformProp]:"")),r.scale=r.rotate=r.translate="none"),f=_getMatrix(e,O.svg),O.svg&&(S=O.uncache?(P=e.getBBox(),a=O.xOrigin-P.x+"px "+(O.yOrigin-P.y)+"px",""):!t&&e.getAttribute("data-svg-origin"),_applySVGOrigin(e,S||a,!!S||O.originIsAbsolute,!1!==O.smooth,f)),I=O.xOrigin||0,A=O.yOrigin||0,f!==_identity2DMatrix&&(g=f[0],y=f[1],v=f[2],w=f[3],L=T=f[4],s=b=f[5],6===f.length?(D=Math.sqrt(g*g+y*y),l=Math.sqrt(w*w+v*v),c=g||y?_atan2(y,g)*_RAD2DEG:0,(d=v||w?_atan2(v,w)*_RAD2DEG+c:0)&&(l*=Math.abs(Math.cos(d*_DEG2RAD))),O.svg&&(L-=I-(I*g+A*v),s-=A-(I*y+A*w))):(I=f[6],A=f[7],C=f[8],E=f[9],k=f[10],M=f[11],L=f[12],s=f[13],o=f[14],u=(f=_atan2(I,k))*_RAD2DEG,f&&(S=T*(h=Math.cos(-f))+C*(m=Math.sin(-f)),P=b*h+E*m,x=I*h+k*m,C=T*-m+C*h,E=b*-m+E*h,k=I*-m+k*h,M=A*-m+M*h,T=S,b=P,I=x),_=(f=_atan2(-v,k))*_RAD2DEG,f&&(h=Math.cos(-f),M=w*(m=Math.sin(-f))+M*h,g=S=g*h-C*m,y=P=y*h-E*m,v=x=v*h-k*m),c=(f=_atan2(y,g))*_RAD2DEG,f&&(S=g*(h=Math.cos(f))+y*(m=Math.sin(f)),P=T*h+b*m,y=y*h-g*m,b=b*h-T*m,g=S,T=P),u&&359.9<Math.abs(u)+Math.abs(c)&&(u=c=0,_=180-_),D=_round(Math.sqrt(g*g+y*y+v*v)),l=_round(Math.sqrt(b*b+I*I)),f=_atan2(T,b),d=2e-4<Math.abs(f)?f*_RAD2DEG:0,p=M?1/(M<0?-M:M):0),O.svg)&&(S=e.getAttribute("transform"),O.forceCSS=e.setAttribute("transform","")||!_isNullTransform(_getComputedProperty(e,_transformProp)),S)&&e.setAttribute("transform",S),90<Math.abs(d)&&Math.abs(d)<270&&(i?(D*=-1,d+=c<=0?180:-180,c+=c<=0?180:-180):(l*=-1,d+=d<=0?180:-180)),t=t||O.uncache,O.x=L-((O.xPercent=L&&(!t&&O.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-L)?-50:0)))?e.offsetWidth*O.xPercent/100:0)+"px",O.y=s-((O.yPercent=s&&(!t&&O.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-s)?-50:0)))?e.offsetHeight*O.yPercent/100:0)+"px",O.z=o+"px",O.scaleX=_round(D),O.scaleY=_round(l),O.rotation=_round(c)+n,O.rotationX=_round(u)+n,O.rotationY=_round(_)+n,O.skewX=d+n,O.skewY=0+n,O.transformPerspective=p+"px",(O.zOrigin=parseFloat(a.split(" ")[2])||0)&&(r[_transformOriginProp]=_firstTwoOnly(a)),O.xOffset=O.yOffset=0,O.force3D=_config.force3D,O.renderTransform=O.svg?_renderSVGTransforms:_supports3D?_renderCSSTransforms:_renderNon3DTransforms,O.uncache=0),O},_firstTwoOnly=function(e){return(e=e.split(" "))[0]+" "+e[1]},_addPxTranslate=function(e,t,r){var i=getUnit(t);return _round(parseFloat(t)+parseFloat(_convertToUnit(e,"x",r+"px",i)))+i},_renderNon3DTransforms=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,_renderCSSTransforms(e,t)},_zeroDeg="0deg",_zeroPx="0px",_endParenthesis=") ",_renderCSSTransforms=function(e,t){var r,i,n,t=t||this,a=t.xPercent,s=t.yPercent,o=t.x,l=t.y,c=t.z,u=t.rotation,_=t.rotationY,d=t.rotationX,p=t.skewX,f=t.skewY,h=t.scaleX,m=t.scaleY,g=t.transformPerspective,y=t.force3D,v=t.target,t=t.zOrigin,w="",e="auto"===y&&e&&1!==e||!0===y;!t||d===_zeroDeg&&_===_zeroDeg||(y=parseFloat(_)*_DEG2RAD,r=Math.sin(y),i=Math.cos(y),y=parseFloat(d)*_DEG2RAD,n=Math.cos(y),o=_addPxTranslate(v,o,r*n*-t),l=_addPxTranslate(v,l,-Math.sin(y)*-t),c=_addPxTranslate(v,c,i*n*-t+t)),g!==_zeroPx&&(w+="perspective("+g+_endParenthesis),(a||s)&&(w+="translate("+a+"%, "+s+"%) "),!e&&o===_zeroPx&&l===_zeroPx&&c===_zeroPx||(w+=c!==_zeroPx||e?"translate3d("+o+", "+l+", "+c+") ":"translate("+o+", "+l+_endParenthesis),u!==_zeroDeg&&(w+="rotate("+u+_endParenthesis),_!==_zeroDeg&&(w+="rotateY("+_+_endParenthesis),d!==_zeroDeg&&(w+="rotateX("+d+_endParenthesis),p===_zeroDeg&&f===_zeroDeg||(w+="skew("+p+", "+f+_endParenthesis),1===h&&1===m||(w+="scale("+h+", "+m+_endParenthesis),v.style[_transformProp]=w||"translate(0, 0)"},_renderSVGTransforms=function(e,t){var r,i,n,a,s,t=t||this,o=t.xPercent,l=t.yPercent,c=t.x,u=t.y,_=t.rotation,d=t.skewX,p=t.skewY,f=t.scaleX,h=t.scaleY,m=t.target,g=t.xOrigin,y=t.yOrigin,v=t.xOffset,w=t.yOffset,t=t.forceCSS,T=parseFloat(c),b=parseFloat(u),_=parseFloat(_),d=parseFloat(d);(p=parseFloat(p))&&(d+=p=parseFloat(p),_+=p),_||d?(_*=_DEG2RAD,d*=_DEG2RAD,r=Math.cos(_)*f,i=Math.sin(_)*f,n=Math.sin(_-d)*-h,a=Math.cos(_-d)*h,d&&(p*=_DEG2RAD,s=Math.tan(d-p),n*=s=Math.sqrt(1+s*s),a*=s,p)&&(s=Math.tan(p),r*=s=Math.sqrt(1+s*s),i*=s),r=_round(r),i=_round(i),n=_round(n),a=_round(a)):(r=f,a=h,i=n=0),(T&&!~(c+"").indexOf("px")||b&&!~(u+"").indexOf("px"))&&(T=_convertToUnit(m,"x",c,"px"),b=_convertToUnit(m,"y",u,"px")),(g||y||v||w)&&(T=_round(T+g-(g*r+y*n)+v),b=_round(b+y-(g*i+y*a)+w)),(o||l)&&(s=m.getBBox(),T=_round(T+o/100*s.width),b=_round(b+l/100*s.height)),m.setAttribute("transform",s="matrix("+r+","+i+","+n+","+a+","+T+","+b+")"),t&&(m.style[_transformProp]=s)},_addRotationalPropTween=function(e,t,r,i,n){var a=360,s=_isString(n),o=parseFloat(n)*(s&&~n.indexOf("rad")?_RAD2DEG:1)-i,l=i+o+"deg";return s&&("short"===(s=n.split("_")[1])&&(o%=a)!==o%180&&(o+=o<0?a:-a),"cw"===s&&o<0?o=(o+a*_bigNum2)%a-~~(o/a)*a:"ccw"===s&&0<o&&(o=(o-a*_bigNum2)%a-~~(o/a)*a)),e._pt=n=new PropTween(e._pt,t,r,i,o,_renderPropWithEnd),n.e=l,n.u="deg",e._props.push(r),n},_assign=function(e,t){for(var r in t)e[r]=t[r];return e},_addRawTransformPTs=function(e,t,r){var i,n,a,s,o,l,c=_assign({},r._gsap),u=r.style;for(n in c.svg?(a=r.getAttribute("transform"),r.setAttribute("transform",""),u[_transformProp]=t,i=_parseTransform(r,1),_removeProperty(r,_transformProp),r.setAttribute("transform",a)):(a=getComputedStyle(r)[_transformProp],u[_transformProp]=t,i=_parseTransform(r,1),u[_transformProp]=a),_transformProps)(a=c[n])!==(o=i[n])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(n)<0&&(s=getUnit(a)!==(l=getUnit(o))?_convertToUnit(r,n,a,l):parseFloat(a),o=parseFloat(o),e._pt=new PropTween(e._pt,i,n,s,o-s,_renderCSSProp),e._pt.u=l||0,e._props.push(n));_assign(i,c)},CSSPlugin=(_forEachName("padding,margin,Width,Radius",function(t,r){var e="Right",i="Bottom",n="Left",o=(r<3?["Top",e,i,n]:["Top"+n,"Top"+e,i+e,i+n]).map(function(e){return r<2?t+e:"border"+e+t});_specialProps[1<r?"border"+t:t]=function(t,e,r,i,n){var a,s;if(arguments.length<4)return a=o.map(function(e){return _get(t,e,r)}),5===(s=a.join(" ")).split(a[0]).length?a[0]:s;a=(i+"").split(" "),s={},o.forEach(function(e,t){return s[e]=a[t]=a[t]||a[(t-1)/2|0]}),t.init(e,s,n)}}),{name:"css",register:_initCore,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,n){var a,s,o,l,c,u,_,d,p,f,h,m,g,y,v=this._props,w=e.style,T=r.vars.startAt;for(c in _pluginInitted||_initCore(),this.styles=this.styles||_getStyleSaver(e),y=this.styles.props,this.tween=r,t)if("autoRound"!==c&&(s=t[c],!_plugins[c]||!_checkPlugin(c,t,r,i,e,n)))if(l=_specialProps[c],"string"===(d="function"===(d=typeof s)?typeof(s=s.call(r,i,e,n)):d)&&~s.indexOf("random(")&&(s=_replaceRandom(s)),l)l(this,e,c,s,r)&&(g=1);else if("--"===c.substr(0,2))a=(getComputedStyle(e).getPropertyValue(c)+"").trim(),s+="",_colorExp.lastIndex=0,_colorExp.test(a)||(u=getUnit(a),_=getUnit(s)),_?u!==_&&(a=_convertToUnit(e,c,a,_)+_):u&&(s+=u),this.add(w,"setProperty",a,s,i,n,0,0,c),v.push(c),y.push(c,0,w[c]);else if("undefined"!==d){if((!(T&&c in T)||(a="function"==typeof T[c]?T[c].call(r,i,e,n):T[c],_isString(a)&&~a.indexOf("random(")&&(a=_replaceRandom(a)),getUnit(a+"")||(a+=_config.units[c]||getUnit(_get(e,c))||""),"="===(a+"").charAt(1)))&&(a=_get(e,c)),l=parseFloat(a),(d="string"===d&&"="===s.charAt(1)&&s.substr(0,2))&&(s=s.substr(2)),o=parseFloat(s),p=(c=c in _propertyAliases&&("autoAlpha"===c&&(1===l&&"hidden"===_get(e,"visibility")&&o&&(l=0),y.push("visibility",0,w.visibility),_addNonTweeningPT(this,w,"visibility",l?"inherit":"hidden",o?"inherit":"hidden",!o)),"scale"!==c)&&"transform"!==c&&~(c=_propertyAliases[c]).indexOf(",")?c.split(",")[0]:c)in _transformProps)if(this.styles.save(c),f||((h=e._gsap).renderTransform&&!t.parseTransform||_parseTransform(e,t.parseTransform),m=!1!==t.smoothOrigin&&h.smooth,(f=this._pt=new PropTween(this._pt,w,_transformProp,0,1,h.renderTransform,h,0,-1)).dep=1),"scale"===c)this._pt=new PropTween(this._pt,h,"scaleY",h.scaleY,(d?_parseRelative(h.scaleY,d+o):o)-h.scaleY||0,_renderCSSProp),this._pt.u=0,v.push("scaleY",c),c+="X";else{if("transformOrigin"===c){y.push(_transformOriginProp,0,w[_transformOriginProp]),s=_convertKeywordsToPercentages(s),h.svg?_applySVGOrigin(e,s,0,m,0,this):((_=parseFloat(s.split(" ")[2])||0)!==h.zOrigin&&_addNonTweeningPT(this,h,"zOrigin",h.zOrigin,_),_addNonTweeningPT(this,w,c,_firstTwoOnly(a),_firstTwoOnly(s)));continue}if("svgOrigin"===c){_applySVGOrigin(e,s,1,m,0,this);continue}if(c in _rotationalProperties){_addRotationalPropTween(this,h,c,l,d?_parseRelative(l,d+s):s);continue}if("smoothOrigin"===c){_addNonTweeningPT(this,h,"smooth",h.smooth,s);continue}if("force3D"===c){h[c]=s;continue}if("transform"===c){_addRawTransformPTs(this,s,e);continue}}else c in w||(c=_checkPropPrefix(c)||c);if(p||(o||0===o)&&(l||0===l)&&!_complexExp.test(s)&&c in w)o=o||0,(u=(a+"").substr((l+"").length))!==(_=getUnit(s)||(c in _config.units?_config.units[c]:u))&&(l=_convertToUnit(e,c,a,_)),this._pt=new PropTween(this._pt,p?h:w,c,l,(d?_parseRelative(l,d+o):o)-l,p||"px"!==_&&"zIndex"!==c||!1===t.autoRound?_renderCSSProp:_renderRoundedCSSProp),this._pt.u=_||0,u!==_&&"%"!==_&&(this._pt.b=a,this._pt.r=_renderCSSPropWithBeginning);else if(c in w)_tweenComplexCSSString.call(this,e,c,a,d?d+s:s);else if(c in e)this.add(e,c,a||e[c],d?d+s:s,i,n);else if("parseTransform"!==c){_missingPlugin(c,s);continue}p||(c in w?y.push(c,0,w[c]):y.push(c,1,a||e[c])),v.push(c)}g&&_sortPropTweensByPriority(this)},render:function(e,t){if(t.tween._time||!_reverting2())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:_get,aliases:_propertyAliases,getSetter:function(e,t,r){var i=_propertyAliases[t];return(t=i&&i.indexOf(",")<0?i:t)in _transformProps&&t!==_transformOriginProp&&(e._gsap.x||_get(e,"x"))?r&&_recentSetterPlugin===r?"scale"===t?_setterScale:_setterTransform:(_recentSetterPlugin=r||{})&&("scale"===t?_setterScaleWithRender:_setterTransformWithRender):e.style&&!_isUndefined(e.style[t])?_setterCSSStyle:~t.indexOf("-")?_setterCSSProp:_getSetter(e,t)},core:{_removeProperty:_removeProperty,_getMatrix:_getMatrix}}),gsapWithCSS=(gsap.utils.checkPrefix=_checkPropPrefix,gsap.core.getStyleSaver=_getStyleSaver,!function(e,t){var r=_forEachName(e+","+t+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){_transformProps[e]=1});_forEachName(t,function(e){_config.units[e]="deg",_rotationalProperties[e]=1}),_propertyAliases[r[13]]=e+","+t,_forEachName("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(e){e=e.split(":");_propertyAliases[e[1]]=r[e[0]]})}("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY"),_forEachName("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){_config.units[e]="px"}),gsap.registerPlugin(CSSPlugin),gsap.registerPlugin(CSSPlugin)||gsap),TweenMaxWithCSS=gsapWithCSS.core.Tween;function animateLyricsBackdropChange(e){const t=e.getContext("2d");var r=Math.ceil(Math.sqrt(e.width**2+e.height**2)/2);const i=e.width/2,n=e.height/2,a={value:0};gsapWithCSS.to(a,{duration:lyricsBackdropAnimationDurationSec,value:r,onUpdate:()=>{t.beginPath(),t.arc(i,n,a.value,0,2*Math.PI),t.closePath(),t.fill()},onComplete:()=>{e.remove()},ease:lyricsBackdropAnimationEasingVariant})}var animateLyricsBackdropChange_default=animateLyricsBackdropChange;function getTextLineDirection(e){e=e[0];return/[\u0591-\u07FF]/.test(e)?"rtl":"ltr"}var getTextLineDirection_default=getTextLineDirection;function setLyricsLinesStyle(e){let n=0;e.forEach(r=>{if(r.textContent){var i=r["style"];n+=1,"center"!==window.getComputedStyle(r).textAlign?i.transformOrigin="rtl"===getTextLineDirection_default(r.textContent)?"right":"left":i.transformOrigin="center";let e=lyricsAnimationDelayStepMs+n*lyricsAnimationDelayStepMultiplier,t=(e>lyricsAnimationDelayMsMax&&(e=lyricsAnimationDelayMsMax),lyricsAnimationDurationStepMs+n*lyricsAnimationDurationStepMultiplier);t>lyricsAnimationDurationMsMax&&(t=lyricsAnimationDurationMsMax),i.animationDelay=e+"ms",i.animationDuration=t+"ms",i.animationTimingFunction=lyricsAnimationTimingFunction,i.animationName=lyricsAnimationName}})}var setLyricsLinesStyle_default=setLyricsLinesStyle;function enableFeatureStyles(e){document.documentElement.classList.add(e)}var enableFeatureStyles_default=enableFeatureStyles,_LyricsEffectsManager=class{static watchForLyrics(){waitForAPIs_default(["Spicetify.Platform.History"],()=>{Spicetify.Platform.History.listen(_LyricsEffectsManager.handleLyricsStatus),_LyricsEffectsManager.handleLyricsStatus()}),waitForElements_default([lyricsCinemaElementSelector],([e])=>{_LyricsEffectsManager.lyricsCinemaElement=e;new MutationObserver(_LyricsEffectsManager.handleLyricsStatus).observe(e,{attributes:!0,attributeFilter:["class"]}),_LyricsEffectsManager.handleLyricsStatus()}),waitForAPIs_default(["Spicetify.Player"],()=>{Spicetify.Player.addEventListener("songchange",_LyricsEffectsManager.updateLyricsEffects)})}static handleLyricsStatus(){Spicetify.Platform.History.location.pathname.includes("lyrics")||_LyricsEffectsManager.lyricsCinemaElement?.className.includes("lyricsCinemaVisible")?(_LyricsEffectsManager.lyricsBackdropContainer.style.display="unset",_LyricsEffectsManager.updateLyricsEffects()):_LyricsEffectsManager.lyricsBackdropContainer.style.display="none"}static updateLyricsEffects(){waitForAPIs_default(["Spicetify.Player.data"],()=>{var e=Spicetify.Player.data.item["metadata"];if(_LyricsEffectsManager.previousAlbumUri===e.album_uri)_LyricsEffectsManager.updateLyricsPageProperties();else{_LyricsEffectsManager.previousAlbumUri=e.album_uri;const n=_LyricsEffectsManager.lyricsBackdropElement;n.getContext("2d").globalCompositeOperation=lyricsBackdropGlobalCompositeOperation,_LyricsEffectsManager.lyricsBackdropElement=createLyricsBackdropElement_default();const a=_LyricsEffectsManager.lyricsBackdropElement.getContext("2d"),s=(n.insertAdjacentElement("beforebegin",_LyricsEffectsManager.lyricsBackdropElement),new Image);s.src=e.image_xlarge_url,s.onload=async()=>{var[e,t,r,i]=await calculateContextDrawValuesAsync_default(_LyricsEffectsManager.lyricsBackdropElement,lyricsBackdropBlurValue);a.drawImage(s,r,i,e,t),setLyricsBackdropFiltersAsync_default(_LyricsEffectsManager.lyricsBackdropElement,s),_LyricsEffectsManager.updateLyricsPageProperties(),animateLyricsBackdropChange_default(n)}}})}static updateLyricsPageProperties(){waitForElements_default([lyricsContentWrapperSelector],([t])=>{fixLyricsContentWrapperShifting_default(t),fixLyricsActiveLineClipping_default(t);var e=document.querySelector(mainViewContainerSelector);_LyricsEffectsManager.mainViewContainerResizeObserver&&_LyricsEffectsManager.mainViewContainerResizeObserver.disconnect(),_LyricsEffectsManager.mainViewContainerResizeObserver=new ResizeObserver(()=>{fixLyricsContentWrapperShifting_default(t),fixLyricsActiveLineClipping_default(t)}),_LyricsEffectsManager.mainViewContainerResizeObserver.observe(e),waitForElements_default([lyricsContentProviderSelector],()=>{var e=Array.from(t.querySelectorAll(lyricsLinesSelecor));setLyricsLinesStyle_default(e)})})}static enable(){enableFeatureStyles_default(bloomLyricsStyleSettingId),waitForElements_default([underMainViewSelector],([e])=>{_LyricsEffectsManager.lyricsBackdropContainer=document.createElement("div"),_LyricsEffectsManager.lyricsBackdropContainer.id=lyricsBackdropContainerId,e.prepend(_LyricsEffectsManager.lyricsBackdropContainer),_LyricsEffectsManager.lyricsBackdropElement=createLyricsBackdropElement_default(),_LyricsEffectsManager.lyricsBackdropContainer.appendChild(_LyricsEffectsManager.lyricsBackdropElement),_LyricsEffectsManager.watchForLyrics()})}},LyricsEffectsManager=_LyricsEffectsManager,lyricsEffectsManager_default=(__publicField(LyricsEffectsManager,"previousAlbumUri"),__publicField(LyricsEffectsManager,"lyricsBackdropContainer"),__publicField(LyricsEffectsManager,"lyricsCinemaElement"),__publicField(LyricsEffectsManager,"lyricsBackdropElement"),__publicField(LyricsEffectsManager,"mainViewContainerResizeObserver"),LyricsEffectsManager);function setControlsDimensions(){waitForAPIs_default(["Spicetify.Platform.PlayerAPI"],async()=>{var e=(await Spicetify.Platform.PlayerAPI._prefs.get({key:"app.browser.zoom-level"}))["entries"],e=e["app.browser.zoom-level"].number,e=0!==e?e/50:0,t=.912872807,r=Math.abs(135*t**e),t=Math.abs(31*t**e),e=document.documentElement["style"];e.setProperty("--control-width",r+"px"),e.setProperty("--control-height",t+"px")})}var setControlsDimensions_default=setControlsDimensions;function hideWindowControlsBackground(){enableFeatureStyles_default(windowControlsBackgroundSettingId),setControlsDimensions_default(),window.onresize=setControlsDimensions_default}var hideWindowControlsBackground_default=hideWindowControlsBackground,settingsSectionId="fluent-style-settings",settingsSectionName="Bloom Fluent Style settings",settingImageUrlInputId="image-url-input",settingImageUrlInputDescription="Enter background image URL",settingImageUrlInputDefaultValue="https://i.imgur.com/aNdBrlY.jpg",settingConfirmInputButtonId="image-confirm-button",settingConfirmInputButtonDescription="Confirm image URL",settingConfirmInputButtonValue="Confirm",settingDownloadImageButtonId="image-download-button",settingDownloadImageButtonDescription="Save image to localStorage (not recommended). Saved image has the highest priority.",settingDownloadImageButtonValue="Save",settingRemoveImageButtonId="image-remove-button",settingRemoveImageButtonDescription="Remove image from localStorage",settingRemoveImageButtonValue="Remove",backgroundImageLocalStorageKey="bloom-fluent-background-image",backgroundImageUrlLocalStorageKey="bloom-fluent-background-image-url";function addBackgroundImage(a){waitForElements_default([".Root__top-container"],([e])=>{const t=document.createElement("canvas");t.classList.add("bloom-fluent-background"),e.prepend(t);var e=document.createElement("div"),e=(e.classList.add("bloom-fluent-background-overlay"),t.insertAdjacentElement("afterend",e),window.getComputedStyle(document.documentElement)),r=e.getPropertyValue("--bloom-fluent-background-blur").trim(),e=e.getPropertyValue("--bloom-fluent-background-saturate").trim();const i=t.getContext("2d"),n=(i.imageSmoothingEnabled=!1,i.filter=`blur(${r}px) saturate(${e})`,new Image);n.onload=()=>{i.drawImage(n,0,0,t.width,t.height)},localStorage.getItem(backgroundImageLocalStorageKey)?n.src=localStorage.getItem(backgroundImageLocalStorageKey):localStorage.getItem(backgroundImageUrlLocalStorageKey)?n.src=localStorage.getItem(backgroundImageUrlLocalStorageKey):n.src=localStorage.getItem(a)})}var addBackgroundImage_default=addBackgroundImage;async function getImageBase64FromUrlAsync(e){var t;let r;try{t=await fetch(e),r=await t.blob()}catch{return null}return new Promise(e=>{const t=new FileReader;t.onloadend=()=>e(t.result),t.readAsDataURL(r)})}var getImageBase64FromUrlAsync_default=getImageBase64FromUrlAsync;function addFluentSettings(){const t=new SettingsSection(settingsSectionName,settingsSectionId);return t.addInput(settingImageUrlInputId,settingImageUrlInputDescription,settingImageUrlInputDefaultValue),t.addButton(settingConfirmInputButtonId,settingConfirmInputButtonDescription,settingConfirmInputButtonValue,async()=>{var e=t.getFieldValue(settingImageUrlInputId);"string"==typeof await getImageBase64FromUrlAsync_default(e)&&localStorage.setItem(backgroundImageUrlLocalStorageKey,e),reloadLocation_default()}),t.addButton(settingDownloadImageButtonId,settingDownloadImageButtonDescription,settingDownloadImageButtonValue,async()=>{var e=await getImageBase64FromUrlAsync_default(t.getFieldValue(settingImageUrlInputId));"string"==typeof e&&(localStorage.setItem(backgroundImageLocalStorageKey,e),reloadLocation_default())}),t.addButton(settingRemoveImageButtonId,settingRemoveImageButtonDescription,settingRemoveImageButtonValue,()=>{localStorage.removeItem(backgroundImageLocalStorageKey),reloadLocation_default()}),t.pushSettings(),t}var addFluentSettings_default=addFluentSettings;function fluentize(){var[e,t]=Spicetify.Config.color_scheme.split("_");"fluent"===e&&(enableFeatureStyles_default(fluentStyleSettingId),document.documentElement.classList.add(t),e=addFluentSettings_default(),addBackgroundImage_default(e.getFieldValue(settingImageUrlInputId)))}var fluentize_default=fluentize;async function bloom(){addBlurElements_default(),addButtonStyles_default(),addLibraryNavLinkAccent_default(),keepTopBarContentCentered_default(),controlNoiseOpacity_default(),styleCategoryCards_default();var e=await addSettingsAsync_default();e.getFieldValue(fluentStyleSettingId)&&fluentize_default(),e.getFieldValue(windowControlsBackgroundSettingId)&&hideWindowControlsBackground_default(),e.getFieldValue(bloomLyricsStyleSettingId)&&lyricsEffectsManager_default.enable(),e.getFieldValue(requirementsSettingId)&&checkRequirements_default()}var app_default=bloom;(async()=>{await app_default()})()})()}();